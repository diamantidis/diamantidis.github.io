<!DOCTYPE html> <html lang="en"><head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"><title>A guide to SwiftLint</title><!-- Begin Jekyll SEO tag v2.8.0 --> <meta name="generator" content="Jekyll v3.9.2" /> <meta property="og:title" content="A guide to SwiftLint" /> <meta name="author" content="Ioannis Diamantidis" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="An introduction guide to setup and use SwiftLint in Xcode, fastlane and command line" /> <meta property="og:description" content="An introduction guide to setup and use SwiftLint in Xcode, fastlane and command line" /> <link rel="canonical" href="https://diamantidis.github.io/2018/12/23/a-guide-to-swiftlint" /> <meta property="og:url" content="https://diamantidis.github.io/2018/12/23/a-guide-to-swiftlint" /> <meta property="og:site_name" content="Ioannis Diamantidis" /> <meta property="og:image" content="https://diamantidis.github.io/assets/socialIcon.png" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2018-12-23T08:30:00+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:image" content="https://diamantidis.github.io/assets/socialIcon.png" /> <meta property="twitter:title" content="A guide to SwiftLint" /> <meta name="twitter:site" content="@diamantidis_io" /> <meta name="twitter:creator" content="@diamantidis_io" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ioannis Diamantidis","url":"https://diamantidis.github.io"},"dateModified":"2018-12-23T08:30:00+00:00","datePublished":"2018-12-23T08:30:00+00:00","description":"An introduction guide to setup and use SwiftLint in Xcode, fastlane and command line","headline":"A guide to SwiftLint","image":"https://diamantidis.github.io/assets/socialIcon.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://diamantidis.github.io/2018/12/23/a-guide-to-swiftlint"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://diamantidis.github.io/assets/socialIcon.png"},"name":"Ioannis Diamantidis"},"url":"https://diamantidis.github.io/2018/12/23/a-guide-to-swiftlint"}</script> <!-- End Jekyll SEO tag --> <link rel="stylesheet" href="/assets/main.css"><link rel="apple-touch-icon" href="/assets/apple-touch-icon.png"/> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"> <link rel="manifest" href="/assets/site.webmanifest"> <link rel="mask-icon" href="assets/safari-pinned-tab.svg" color="#5bbad5"> <link rel="shortcut icon" href="/assets/favicon.ico"> <meta name="msapplication-TileColor" content="#da532c"> <meta name="msapplication-config" content="/assets/browserconfig.xml"> <meta name="theme-color" content="#ffffff"><!-- Buy me a coffee widget --> <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="diamantidis" data-description="Support me on Buy me a coffee!" data-message="" data-color="#347ab7" data-position="Right" data-x_margin="18" data-y_margin="18"></script> <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"><link type="application/atom+xml" rel="alternate" href="https://diamantidis.github.io/feed.xml" title="Ioannis Diamantidis" /><script src="https://cdn.telemetrydeck.com/websdk/telemetrydeck.min.js" data-app-id='38585865-E115-4830-8D37-7A8F1213DC6B' ></script> <script> !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]); posthog.init('phc_sTVQpj2y4ME7gaB3ETrOfwqd4B78MrA2ixW11xju0Hg',{api_host:'https://eu.posthog.com'}) </script></head> <body><header class="site-header" role="banner"> <div class="wrapper">
<div class="left-container"> <div class="title-wrapper"> <a class="site-title" rel="author" href="/"> <h1>Ioannis Diamantidis</h1> </a> </div> <div class="footer-icons"> <ul> <li> <div class="social-icon"> <a href="https://twitter.com/diamantidis_io" aria-label="Twitter"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://github.com/diamantidis" aria-label="GitHub"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="http://linkedin.com/in/ioannis-diamantidis" aria-label="LinkedIn"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://instagram.com/diama.codes" aria-label="Instagram"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="/feed.xml" aria-label="RSS Feed"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="mailto:diamantidis@outlook.com" aria-label="Email"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> </ul> </div> </div>
<nav class="site-nav"> <input type="checkbox" id="nav-trigger" class="nav-trigger"> <label for="nav-trigger"> <span class="menu-icon"> <svg viewbox="0 0 18 15" width="18px" height="15px"> <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path> </svg> </span> </label> <div class="trigger"> <a class="page-link" href="/tips" title="Tips">Tips</a><a class="page-link" href="/about" title="About">About</a><a class="page-link" href="/archive" title="Archive">Archive</a><a class="page-link" href="/tags" title="Tags">Tags</a>
</div> </nav>
</div> </header><main class="page-content" aria-label="Content"> <div class="wrapper"> <article class="post"> <header class="post-header"> <h1> <span class="post-title break-long-word">A guide to SwiftLint</span> </h1> <div class="post-subheader"> <span class="post-date"> December 23, 2018 </span> <span class="post-divider">-</span> <span class="post-minutes"> 5 min read </span> <div class="outer-post-tags"> <div class="post-tags"> <a class="post-tag" href="/tags#SwiftLint" title="SwiftLint">SwiftLint</a> <a class="post-tag" href="/tags#Xcode" title="Xcode">Xcode</a> <a class="post-tag" href="/tags#fastlane" title="fastlane">fastlane</a> <a class="post-tag" href="/tags#CI" title="CI">CI</a> </div> </div> </div> </header> <div class="post-content"> <p><a href="https://github.com/realm/SwiftLint">SwiftLint</a> is a great tool to enforce Swift style and conventions. When working with different developers with different levels of experience and different preferences it is hard to keep a consistency in the way the code is written. Furthermore, as a developer, we are quite lazy to check for linting issues every time we commit, so better let a tool and CI do the job for us. Long story short, SwiftLint is a tool to help a team configure some styling rules based on its needs and preferences, and later on, using CI, enforce these rules to the whole development team.</p> <h2 id="how-to-install">How to install</h2> <p>SwiftLint can be installed using various ways. The easiest way is to install the pre-built package, by downloading the .pkg file from the <a href="https://github.com/realm/SwiftLint/releases">latest GitHub release</a>. Another easy way is by using Homebrew and running <code class="language-plaintext highlighter-rouge">brew install swiftlint</code>. SwiftLint can also be installed using CocoaPods, by adding <code class="language-plaintext highlighter-rouge">pod 'SwiftLint'</code> to the Podfile and running <code class="language-plaintext highlighter-rouge">pod install</code>.</p> <p>More instructions and details can be found on the project’s <a href="https://github.com/realm/SwiftLint#installation">GitHub Page</a>.</p> <h2 id="integrate-with-xcode">Integrate with Xcode</h2> <p>After installing, SwiftLint can be integrated into Xcode (or other editors like AppCode) so that you can get the warnings and errors when building the project and have them displayed in the IDE.</p> <p>To do so, for Xcode, add a new “Run Script Phase” in the “Build Phases” section. This script should be like the following snippet if the installation is done using CocoaPods</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if which "${PODS_ROOT}/SwiftLint/swiftlint" &gt;/dev/null; then
    ${PODS_ROOT}/SwiftLint/swiftlint
else
    echo "warning: SwiftLint not installed, download from https://github.com/realm/SwiftLint"
fi
</code></pre></div></div> <p><img src="https://diamantidis.github.io/assets/swiftlint/swiftlint_run_script_phase.png" alt="SwiftLint Run Script Phase screenshot"></p> <h2 id="integrate-with-fastlane">Integrate with fastlane</h2> <p>You can also integrate SwiftLint with fastlane by adding another lane in the <code class="language-plaintext highlighter-rouge">Fastfile</code>, like:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>desc "Run linting"
lane :lint do
swiftlint(
  executable: './Pods/SwiftLint/swiftlint', 
  mode: :lint,
  strict: true,
  config_file: '.swiftlint.yml',
)
end
</code></pre></div></div> <p>Now, you can run <code class="language-plaintext highlighter-rouge">fastlane lint</code> and you will get the list of issues.</p> <p>For more options, you can refer to the <a href="https://docs.fastlane.tools/actions/swiftlint/">documentation</a>.</p> <h2 id="swiftlint-rules">SwiftLint rules.</h2> <p>After having everything set up, it’s time to configure the rules. SwiftLint offers a plethora of rules and you can use the <code class="language-plaintext highlighter-rouge">.swiftlint.yml</code> file to configure them.</p> <p>Enforcing the length of a line, a file or the body of a function and display some warning when using force casting and force try are some of the simplest but really useful rules, that you can start with. Other rules can be enforcing private IBActions and IBOutlets or throwing an error when using a legacy constructors. To check the full list of the rules that comes with SwiftLint, you can run the command <code class="language-plaintext highlighter-rouge">swiftlint rules</code> and choose the rules you want to have in your project.</p> <p><img src="https://diamantidis.github.io/assets/swiftlint/swiftlint_rules.png" alt="SwiftLint Rules screenshot"></p> <p>To get more details about each rule, you can run the <code class="language-plaintext highlighter-rouge">swiftlint rules</code> command appended with the identifier of the rule, like <code class="language-plaintext highlighter-rouge">swiftlint rules todo</code>. To add a rule to your <code class="language-plaintext highlighter-rouge">.swiftlint.yml</code>, all you have to do is to enable it in the <code class="language-plaintext highlighter-rouge">opt_in_rules</code> section.</p> <p>An example of a <code class="language-plaintext highlighter-rouge">swiftlint.yml</code> file is the following:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>force_cast: warning
force_try: warning

line_length:
  warning: 120
  error: 500

file_length:
  warning: 600
  error: 1000

function_body_length:
  warning: 40
  error: 120

opt_in_rules:
  - empty_count
  - force_unwrapping
  - legacy_constant
  - legacy_constructor
  - private_action
  - private_outlet
</code></pre></div></div> <p>Apart from these rules, there is the option to add some customs rules by using some regex expression. This can be done by appending the <code class="language-plaintext highlighter-rouge">swiftlint.yml</code> file with a <code class="language-plaintext highlighter-rouge">custom_rules</code> section containing the rule.</p> <p>For example, to add a rule to enforce an empty space after a guard statement add the following snippet to your <code class="language-plaintext highlighter-rouge">swiftlint.yml</code> file:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>custom_rules:
  empty_line_after_guard:
    name: "Empty Line After Guard"
    regex: '(^ *guard[ a-zA-Z0-9=?.\(\),&gt;&lt;!]*\{[ a-zA-Z0-9=?.\(\),&gt;&lt;!]*\}\n *(?!(?:return|guard))\S+)'
    message: "There should be an empty line after a guard"
    severity: warning
</code></pre></div></div> <p>Despite the fact that SwiftLine offers so many rules and such flexibility for customizations, sometimes you may not able to comply to a rule. SwiftLint has got you covered for this scenario too.</p> <p>You can use a comment in the code file to disable the check for a specific rule to a specific line. To do so, just add a comment as in the following snippet.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// swiftlint:disable:next force_cast
let noWarning = NSNumber() as! Int
</code></pre></div></div> <p>To run the command against a single file, you can use the option <code class="language-plaintext highlighter-rouge">--path</code> when running the <code class="language-plaintext highlighter-rouge">swiftlint lint</code> command like <code class="language-plaintext highlighter-rouge">swiftlint lint --path Project/AppDelegate.swift</code>. Alternatively, you can use the following command if you want to run against two or more files,</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SCRIPT_INPUT_FILE_COUNT=2 SCRIPT_INPUT_FILE_0="Project/AppDelegate.swift" SCRIPT_INPUT_FILE_1="Project/ViewController.swift" swiftlint lint --use-script-input-files
</code></pre></div></div> <p>Last but not least is the process of fixing the linting issues. For some rules this has to be done manually but for some others it can be done automatically. If you notice, when running the <code class="language-plaintext highlighter-rouge">swiftlint rules</code> command, each rule has a column named <code class="language-plaintext highlighter-rouge">correctable</code>. This means that those rules can be automatically fixed by simply running the <code class="language-plaintext highlighter-rouge">swiftlint autocorrect</code> command. And of course, the above-mentioned ways of running against one or more files can be applied for the autocorrect command too. Also, a different lane can be added to the Fastfile to cater for the autocorrect using the <code class="language-plaintext highlighter-rouge">autocorrect</code> mode.</p> <p>For example,</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  desc "Run lint autocorrect"
  lane :lint_autocorrect do
    swiftlint(
      mode: :autocorrect,
      executable: './Pods/SwiftLint/swiftlint',
      config_file: '.swiftlint.yml',
    )
  end

</code></pre></div></div> <h2 id="conclusion">Conclusion</h2> <p>This is just an introduction to the full list of options that SwiftLint provides. Despite the fact that only a handful of options are mentioned, it is clear that SwiftLint is a great tool to use and can help to provide consistency in the codebase and reduce the code smells.</p> <p>This is my last blog post for 2018, so … <br> Merry Christmas and a Happy New Year!! <img class="emoji" title=":santa:" alt=":santa:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f385.png" height="20" width="20"><img class="emoji" title=":christmas_tree:" alt=":christmas_tree:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f384.png" height="20" width="20"></p> </div> <div class="socials"> <!-- Buy me a coffee button --> <a href="https://www.buymeacoffee.com/diamantidis" target="_blank"> <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;"> </a> <div class="share"> <strong>Share: </strong> <a href="//twitter.com/share?text=A+guide+to+SwiftLint&amp;url=https%3A%2F%2Fdiamantidis.github.io%2F2018%2F12%2F23%2Fa-guide-to-swiftlint" aria-label="Share on Twitter" onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> <a href="//www.facebook.com/sharer.php?t=A+guide+to+SwiftLint&amp;u=https%3A%2F%2Fdiamantidis.github.io%2F2018%2F12%2F23%2Fa-guide-to-swiftlint" aria-label="Share on Facebook" onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </span> </a> <a href="//www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fdiamantidis.github.io%2F2018%2F12%2F23%2Fa-guide-to-swiftlint" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </div></article> </div> </main><footer class="site-footer"> <data class="u-url" href="/"></data> <div class="footer-icons"> <ul> <li> <div class="social-icon"> <a href="https://twitter.com/diamantidis_io" aria-label="Twitter"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://github.com/diamantidis" aria-label="GitHub"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="http://linkedin.com/in/ioannis-diamantidis" aria-label="LinkedIn"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://instagram.com/diama.codes" aria-label="Instagram"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="/feed.xml" aria-label="RSS Feed"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="mailto:diamantidis@outlook.com" aria-label="Email"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> </ul> </div> <div class="wrapper"> <p>Built with <i class="fa fa-heart" aria-hidden="true"></i>, <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://pages.github.com/"> Github Pages</a> </p> <p> © Copyright 2024 Ioannis Diamantidis </p> </div> </footer></body> </html>
