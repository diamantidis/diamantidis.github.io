<!DOCTYPE html> <html lang="en"><head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"><title>Modifying UI elements with LLDB</title><!-- Begin Jekyll SEO tag v2.8.0 --> <meta name="generator" content="Jekyll v3.9.2" /> <meta property="og:title" content="Modifying UI elements with LLDB" /> <meta name="author" content="Ioannis Diamantidis" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Have you ever been in a situation where you have to experiment with UI and change colors frequent? Does the designer or PM asks for changes in font sizes and you don’t want to stuck in the loop of while(!designer.isSatisfied) { doChanges() build() run() demo() } Imagine that you have something like the inspect element tools of a browser for iOS and an alternative to javascript to change the UI elements of the screen on the fly without having to rebuild the project." /> <meta property="og:description" content="Have you ever been in a situation where you have to experiment with UI and change colors frequent? Does the designer or PM asks for changes in font sizes and you don’t want to stuck in the loop of while(!designer.isSatisfied) { doChanges() build() run() demo() } Imagine that you have something like the inspect element tools of a browser for iOS and an alternative to javascript to change the UI elements of the screen on the fly without having to rebuild the project." /> <link rel="canonical" href="https://diamantidis.github.io/2018/09/30/modifying-ui-elements-with-lldb" /> <meta property="og:url" content="https://diamantidis.github.io/2018/09/30/modifying-ui-elements-with-lldb" /> <meta property="og:site_name" content="Ioannis Diamantidis" /> <meta property="og:image" content="https://diamantidis.github.io/assets/socialIcon.png" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2018-09-30T08:48:00+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:image" content="https://diamantidis.github.io/assets/socialIcon.png" /> <meta property="twitter:title" content="Modifying UI elements with LLDB" /> <meta name="twitter:site" content="@diamantidis_io" /> <meta name="twitter:creator" content="@diamantidis_io" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ioannis Diamantidis","url":"https://diamantidis.github.io"},"dateModified":"2018-09-30T08:48:00+00:00","datePublished":"2018-09-30T08:48:00+00:00","description":"Have you ever been in a situation where you have to experiment with UI and change colors frequent? Does the designer or PM asks for changes in font sizes and you don’t want to stuck in the loop of while(!designer.isSatisfied) { doChanges() build() run() demo() } Imagine that you have something like the inspect element tools of a browser for iOS and an alternative to javascript to change the UI elements of the screen on the fly without having to rebuild the project.","headline":"Modifying UI elements with LLDB","image":"https://diamantidis.github.io/assets/socialIcon.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://diamantidis.github.io/2018/09/30/modifying-ui-elements-with-lldb"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://diamantidis.github.io/assets/socialIcon.png"},"name":"Ioannis Diamantidis"},"url":"https://diamantidis.github.io/2018/09/30/modifying-ui-elements-with-lldb"}</script> <!-- End Jekyll SEO tag --> <link rel="stylesheet" href="/assets/main.css"><link rel="apple-touch-icon" href="/assets/apple-touch-icon.png"/> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"> <link rel="manifest" href="/assets/site.webmanifest"> <link rel="mask-icon" href="assets/safari-pinned-tab.svg" color="#5bbad5"> <link rel="shortcut icon" href="/assets/favicon.ico"> <meta name="msapplication-TileColor" content="#da532c"> <meta name="msapplication-config" content="/assets/browserconfig.xml"> <meta name="theme-color" content="#ffffff"><!-- Buy me a coffee widget --> <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="diamantidis" data-description="Support me on Buy me a coffee!" data-message="" data-color="#347ab7" data-position="Right" data-x_margin="18" data-y_margin="18"></script> <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"><link type="application/atom+xml" rel="alternate" href="https://diamantidis.github.io/feed.xml" title="Ioannis Diamantidis" /><script src="https://cdn.telemetrydeck.com/websdk/telemetrydeck.min.js" data-app-id='38585865-E115-4830-8D37-7A8F1213DC6B' ></script> <script> !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]); posthog.init('phc_sTVQpj2y4ME7gaB3ETrOfwqd4B78MrA2ixW11xju0Hg',{api_host:'https://eu.posthog.com'}) </script></head> <body><header class="site-header" role="banner"> <div class="wrapper">
<div class="left-container"> <div class="title-wrapper"> <a class="site-title" rel="author" href="/"> <h1>Ioannis Diamantidis</h1> </a> </div> <div class="footer-icons"> <ul> <li> <div class="social-icon"> <a href="https://twitter.com/diamantidis_io" aria-label="Twitter"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://github.com/diamantidis" aria-label="GitHub"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="http://linkedin.com/in/ioannis-diamantidis" aria-label="LinkedIn"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://instagram.com/diama.codes" aria-label="Instagram"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="/feed.xml" aria-label="RSS Feed"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="mailto:diamantidis@outlook.com" aria-label="Email"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> </ul> </div> </div>
<nav class="site-nav"> <input type="checkbox" id="nav-trigger" class="nav-trigger"> <label for="nav-trigger"> <span class="menu-icon"> <svg viewbox="0 0 18 15" width="18px" height="15px"> <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path> </svg> </span> </label> <div class="trigger"> <a class="page-link" href="/tips" title="Tips">Tips</a><a class="page-link" href="/about" title="About">About</a><a class="page-link" href="/archive" title="Archive">Archive</a><a class="page-link" href="/tags" title="Tags">Tags</a>
</div> </nav>
</div> </header><main class="page-content" aria-label="Content"> <div class="wrapper"> <article class="post"> <header class="post-header"> <h1> <span class="post-title break-long-word">Modifying UI elements with LLDB</span> </h1> <div class="post-subheader"> <span class="post-date"> September 30, 2018 </span> <span class="post-divider">-</span> <span class="post-minutes"> 5 min read </span> <div class="outer-post-tags"> <div class="post-tags"> <a class="post-tag" href="/tags#iOS" title="iOS">iOS</a> <a class="post-tag" href="/tags#Xcode" title="Xcode">Xcode</a> <a class="post-tag" href="/tags#LLDB" title="LLDB">LLDB</a> </div> </div> </div> </header> <div class="post-content"> <p>Have you ever been in a situation where you have to experiment with UI and change colors frequent? Does the designer or PM asks for changes in font sizes and you don’t want to stuck in the loop of</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>while(!designer.isSatisfied) {
    doChanges()
    build()
    run()
    demo()
} 
</code></pre></div></div> <p>Imagine that you have something like the inspect element tools of a browser for iOS and an alternative to javascript to change the UI elements of the screen on the fly without having to rebuild the project.</p> <p>Using <code class="language-plaintext highlighter-rouge">LLDB expressions</code> is the answer to this problem. <a href="http://lldb.llvm.org/">LLDB</a> is the default debugger in Xcode. With LLDB expressions, it is possible to modify the UI of a running app without changing a single line of code.</p> <h2 id="basic-commands">Basic commands</h2> <p>To be able to run an LLDB expression, you only have to press the pause button on tool bar. <img src="https://diamantidis.github.io/assets/lldb/pause_button.png" alt="Pause button screenshot"></p> <p>In the debugger area, on the bottom right corner, there is a command line prompt. There, the LLDB expressions are entered. You can start by typing <code class="language-plaintext highlighter-rouge">help</code> to see the range of the available commands. Also by running <code class="language-plaintext highlighter-rouge">help &lt;command&gt;</code>, some information about this command will be presented.</p> <p><img src="https://diamantidis.github.io/assets/lldb/help_command.png" alt="Help Command screenshot"></p> <blockquote> <p>Hint: You can even type <code class="language-plaintext highlighter-rouge">help help</code> to see what <code class="language-plaintext highlighter-rouge">help</code> command does. <img class="emoji" title=":stuck_out_tongue_closed_eyes:" alt=":stuck_out_tongue_closed_eyes:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f61d.png" height="20" width="20"></p> </blockquote> <p>Another useful command is the command <code class="language-plaintext highlighter-rouge">print</code> which is simply printing values. You can use this command when using a breakpoint and you want to see the value of a variable. The result of printing, except from the value of the variable, has another value, like for example <code class="language-plaintext highlighter-rouge">$R0</code>. You can use this as a reference for the value. For example, you can try <code class="language-plaintext highlighter-rouge">print $R0 + 1</code></p> <p>One more command is the <code class="language-plaintext highlighter-rouge">expression</code>, which can be use to modify (and not only) some value. If you have a variable <code class="language-plaintext highlighter-rouge">var foo = "bar"</code>, and you have a breakpoint after this command, you can modify the value by running <code class="language-plaintext highlighter-rouge">expression foo = "hoo"</code>.</p> <p><img src="https://diamantidis.github.io/assets/lldb/print_command.png" alt="Print and Expression Command screenshot"></p> <blockquote> <p>Hint: You can also create temporal variable for debugging by running <code class="language-plaintext highlighter-rouge">expression int $variable = 1</code>. The variables are defined in the same way they are defined in C.</p> </blockquote> <blockquote> <p>Hint: <code class="language-plaintext highlighter-rouge">$</code> is used in the name of the variable in order to be available in subsequent expressions. Otherwise, it would be available only for the expression it is defined.</p> </blockquote> <p>Besides than, <code class="language-plaintext highlighter-rouge">expression</code> supports the use of many flags too. You can find more information about the <code class="language-plaintext highlighter-rouge">expression</code> command and the flags by typing <code class="language-plaintext highlighter-rouge">help expression</code>. Actually, <code class="language-plaintext highlighter-rouge">print</code> command is an abbreviation for <code class="language-plaintext highlighter-rouge">expression --</code>. The use of <code class="language-plaintext highlighter-rouge">--</code> signifies the end of flags and the beginning of input, so the commands <code class="language-plaintext highlighter-rouge">print 1</code> and <code class="language-plaintext highlighter-rouge">expression -- 1</code> are equivalent.</p> <blockquote> <p>Hint: <code class="language-plaintext highlighter-rouge">p</code> and <code class="language-plaintext highlighter-rouge">e</code> can be used as aliases for <code class="language-plaintext highlighter-rouge">print</code> and <code class="language-plaintext highlighter-rouge">expression</code> commands respectively.</p> </blockquote> <p>A disadvantage of the <code class="language-plaintext highlighter-rouge">print</code> command is when printing objects. For example, <code class="language-plaintext highlighter-rouge">p @[ @1, @2 ]</code> will result in <code class="language-plaintext highlighter-rouge">(__NSArrayI *) $0 = 0x0000600001644560 @"2 elements"</code>, which doesn’t give a lot of information about the object itself.</p> <p><code class="language-plaintext highlighter-rouge">expression</code>command comes to our rescue and with the use of the flag <code class="language-plaintext highlighter-rouge">-O</code>, prints the result as an object. So, for the above mentioned example <code class="language-plaintext highlighter-rouge">e -O -- @[ @1, @2 ]</code> will result in</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;__NSArrayI 0x600001640b40&gt;(
1,
2
)
</code></pre></div></div> <p>Don’t worry though, you don’t have to type <code class="language-plaintext highlighter-rouge">e -O --</code> every time you have to print an object, as it also comes with an alias <code class="language-plaintext highlighter-rouge">po</code>(as of print object), so <code class="language-plaintext highlighter-rouge">po @[ @1, @2 ]</code> can be used instead.</p> <p><img src="https://diamantidis.github.io/assets/lldb/printing_objects.png" alt="Printing objects screenshot"></p> <p>Knowing this, we can proceed to more advanced usage and combination of these commands to reach our goal.</p> <h2 id="advanced-commands">Advanced commands</h2> <p>As in the previous example, <code class="language-plaintext highlighter-rouge">po</code> command can be used to print Objective-C expressions, thus it can be used to print all the information about the view hierarchy on a running application. By running <code class="language-plaintext highlighter-rouge">po [[[UIApplication sharedApplication] keyWindow] recursiveDescription]</code>, you can see all the view in the view hierarchy along with their memory address and their layout.</p> <p><img src="https://diamantidis.github.io/assets/lldb/view_hierarchy.png" alt="Printing view hierarchy screenshot"></p> <p>Then, by using the <code class="language-plaintext highlighter-rouge">expression</code> we can create a variable from the memory address. By running the command <code class="language-plaintext highlighter-rouge">e id $myButton = (id)0x7fb3e3608520</code>, the button is assign to the variable <code class="language-plaintext highlighter-rouge">$myButton</code>.</p> <p>Next, we want to modify the color of the button, again by using the <code class="language-plaintext highlighter-rouge">expression</code> command. <code class="language-plaintext highlighter-rouge">e (void)[$myButton setBackgroundColor:[UIColor blueColor]]</code> will do the job.</p> <p>Last but not least, we have to refresh the UI to be able to see the change. This can be done by running <code class="language-plaintext highlighter-rouge">e (void)[CATransaction flush]</code>.</p> <p><img src="https://diamantidis.github.io/assets/lldb/changing_button_background_commands.png" alt="Changing button background commands screenshot"></p> <p>And voilà, that’s it, the UIButton now has blue background!! <img class="emoji" title=":tada:" alt=":tada:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" height="20" width="20"></p> <table> <thead> <tr> <th style="text-align: center">Initial button</th> <th style="text-align: center">Final Button</th> </tr> </thead> <tbody> <tr> <td style="text-align: center"><img src="https://diamantidis.github.io/assets/lldb/initial_button.png" alt="Initial button screenshot"></td> <td style="text-align: center"><img src="https://diamantidis.github.io/assets/lldb/final_button.png" alt="Final button screenshot"></td> </tr> </tbody> </table> <h2 id="conclusion">Conclusion</h2> <p>So far, so good, our goal is reached and we can call it a day. But this post only scratches the surface of LLDB capabilities and more posts are to come on this topic.</p> <p>Using lldb expressions, while working on UI changes, can result in many benefits for the app, like shorter feedback loop, which increases the possibilities for a better product and user experience as it is easier for the developer to experiment with different variation of the UI.</p> <p>Furthermore, it can result in higher efficiency for the developer because the builds will be less frequent and thus less idle time will be spent waiting to build the project.</p> <p>Closing, and as it is my first actual post, I choose the following quote. See you soon!!</p> <blockquote> <p>Do the difficult things while they are easy and do the great things while they are small. A journey of a thousand miles must begin with a single step. <br> — Lao Tzu</p> </blockquote> </div> <div class="socials"> <!-- Buy me a coffee button --> <a href="https://www.buymeacoffee.com/diamantidis" target="_blank"> <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;"> </a> <div class="share"> <strong>Share: </strong> <a href="//twitter.com/share?text=Modifying+UI+elements+with+LLDB&amp;url=https%3A%2F%2Fdiamantidis.github.io%2F2018%2F09%2F30%2Fmodifying-ui-elements-with-lldb" aria-label="Share on Twitter" onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> <a href="//www.facebook.com/sharer.php?t=Modifying+UI+elements+with+LLDB&amp;u=https%3A%2F%2Fdiamantidis.github.io%2F2018%2F09%2F30%2Fmodifying-ui-elements-with-lldb" aria-label="Share on Facebook" onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </span> </a> <a href="//www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fdiamantidis.github.io%2F2018%2F09%2F30%2Fmodifying-ui-elements-with-lldb" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </div></article> </div> </main><footer class="site-footer"> <data class="u-url" href="/"></data> <div class="footer-icons"> <ul> <li> <div class="social-icon"> <a href="https://twitter.com/diamantidis_io" aria-label="Twitter"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://github.com/diamantidis" aria-label="GitHub"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="http://linkedin.com/in/ioannis-diamantidis" aria-label="LinkedIn"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://instagram.com/diama.codes" aria-label="Instagram"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="/feed.xml" aria-label="RSS Feed"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="mailto:diamantidis@outlook.com" aria-label="Email"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> </ul> </div> <div class="wrapper"> <p>Built with <i class="fa fa-heart" aria-hidden="true"></i>, <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://pages.github.com/"> Github Pages</a> </p> <p> © Copyright 2024 Ioannis Diamantidis </p> </div> </footer></body> </html>
