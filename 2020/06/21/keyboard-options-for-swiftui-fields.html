<!DOCTYPE html> <html lang="en"><head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"><title>Keyboards options for SwiftUI fields</title><!-- Begin Jekyll SEO tag v2.8.0 --> <meta name="generator" content="Jekyll v3.9.2" /> <meta property="og:title" content="Keyboards options for SwiftUI fields" /> <meta name="author" content="Ioannis Diamantidis" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A post exploring the keyboard options on SwiftUI. From the keyboardType function to using custom views like a picker view" /> <meta property="og:description" content="A post exploring the keyboard options on SwiftUI. From the keyboardType function to using custom views like a picker view" /> <link rel="canonical" href="https://diamantidis.github.io/2020/06/21/keyboard-options-for-swiftui-fields" /> <meta property="og:url" content="https://diamantidis.github.io/2020/06/21/keyboard-options-for-swiftui-fields" /> <meta property="og:site_name" content="Ioannis Diamantidis" /> <meta property="og:image" content="https://diamantidis.github.io/assets/social/keyboard-options-for-swiftui-fields.png" /> <meta property="og:image:height" content="512" /> <meta property="og:image:width" content="910" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2020-06-21T04:00:00+00:00" /> <meta name="twitter:card" content="summary_large_image" /> <meta property="twitter:image" content="https://diamantidis.github.io/assets/social/keyboard-options-for-swiftui-fields.png" /> <meta property="twitter:title" content="Keyboards options for SwiftUI fields" /> <meta name="twitter:site" content="@diamantidis_io" /> <meta name="twitter:creator" content="@diamantidis_io" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ioannis Diamantidis","url":"https://diamantidis.github.io"},"dateModified":"2021-10-30T04:00:00+00:00","datePublished":"2020-06-21T04:00:00+00:00","description":"A post exploring the keyboard options on SwiftUI. From the keyboardType function to using custom views like a picker view","headline":"Keyboards options for SwiftUI fields","image":{"width":910,"height":512,"url":"https://diamantidis.github.io/assets/social/keyboard-options-for-swiftui-fields.png","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://diamantidis.github.io/2020/06/21/keyboard-options-for-swiftui-fields"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://diamantidis.github.io/assets/socialIcon.png"},"name":"Ioannis Diamantidis"},"url":"https://diamantidis.github.io/2020/06/21/keyboard-options-for-swiftui-fields"}</script> <!-- End Jekyll SEO tag --> <link rel="stylesheet" href="/assets/main.css"><link rel="apple-touch-icon" href="/assets/apple-touch-icon.png"/> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"> <link rel="manifest" href="/assets/site.webmanifest"> <link rel="mask-icon" href="assets/safari-pinned-tab.svg" color="#5bbad5"> <link rel="shortcut icon" href="/assets/favicon.ico"> <meta name="msapplication-TileColor" content="#da532c"> <meta name="msapplication-config" content="/assets/browserconfig.xml"> <meta name="theme-color" content="#ffffff"><!-- Buy me a coffee widget --> <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="diamantidis" data-description="Support me on Buy me a coffee!" data-message="" data-color="#347ab7" data-position="Right" data-x_margin="18" data-y_margin="18"></script> <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"><link type="application/atom+xml" rel="alternate" href="https://diamantidis.github.io/feed.xml" title="Ioannis Diamantidis" /><script src="https://cdn.telemetrydeck.com/websdk/telemetrydeck.min.js" data-app-id='38585865-E115-4830-8D37-7A8F1213DC6B' ></script> <script> !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]); posthog.init('phc_sTVQpj2y4ME7gaB3ETrOfwqd4B78MrA2ixW11xju0Hg',{api_host:'https://eu.posthog.com'}) </script></head> <body><header class="site-header" role="banner"> <div class="wrapper"><div class="left-container"> <div class="title-wrapper"> <a class="site-title" rel="author" href="/"> <h1>Ioannis Diamantidis</h1> </a> </div> <div class="footer-icons"> <ul> <li> <div class="social-icon"> <a href="https://twitter.com/diamantidis_io" aria-label="Twitter"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://github.com/diamantidis" aria-label="GitHub"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="http://linkedin.com/in/ioannis-diamantidis" aria-label="LinkedIn"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://instagram.com/diama.codes" aria-label="Instagram"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="/feed.xml" aria-label="RSS Feed"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="mailto:diamantidis@outlook.com" aria-label="Email"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> </ul> </div> </div><nav class="site-nav"> <input type="checkbox" id="nav-trigger" class="nav-trigger" /> <label for="nav-trigger"> <span class="menu-icon"> <svg viewBox="0 0 18 15" width="18px" height="15px"> <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z" /> </svg> </span> </label> <div class="trigger"> <a class="page-link" href="/tips" title="Tips">Tips</a><a class="page-link" href="/about" title="About">About</a><a class="page-link" href="/archive" title="Archive">Archive</a><a class="page-link" href="/tags" title="Tags">Tags</a></div> </nav></div> </header><main class="page-content" aria-label="Content"> <div class="wrapper"> <article class="post"> <header class="post-header"> <h1> <span class="post-title break-long-word">Keyboards options for SwiftUI fields</span> </h1> <div class="post-subheader"> <span class="post-date"> June 21, 2020 </span> <span class="post-divider">-</span> <span class="post-minutes"> 8 min read </span> <div class="outer-post-tags"> <div class="post-tags"> <a class="post-tag" href="/tags#Swift" title="Swift">Swift</a> <a class="post-tag" href="/tags#SwiftUI" title="SwiftUI">SwiftUI</a> <a class="post-tag" href="/tags#iOS" title="iOS">iOS</a> </div> </div> </div> </header> <div class="post-content"> <p>One of the ways to improve the user experience when they fill a form on iOS apps is the use of keyboard types. Keyboard types can be used to show different keyboards based on the context of the field. If it’s an email field, for example, you would probably prefer to present a keyboard with easy access to characters like the at (<code class="language-plaintext highlighter-rouge">@</code>) and the dot (<code class="language-plaintext highlighter-rouge">.</code>).</p> <p>In this post, we are going to see how different keyboard options work with SwiftUI. First, we will cover the “common” scenarios, which include keyboards for fields like name, email, number, etc. Then, we will take a look at how we can add more custom options like a keyboard with a picker view.</p> <h2 id="the-common-cases">The common cases</h2> <p>For the most common cases, SwiftUI provides the function <code class="language-plaintext highlighter-rouge">keyboardType</code> in a <code class="language-plaintext highlighter-rouge">View</code> extension. This function has a parameter of type <code class="language-plaintext highlighter-rouge">UIKeyboardType</code>, which is an enum with cases like <code class="language-plaintext highlighter-rouge">emailAddress</code>, <code class="language-plaintext highlighter-rouge">numberPad</code>, <code class="language-plaintext highlighter-rouge">URL</code>, etc.</p> <blockquote> <p>For the full set of cases, you can refer to the <a href="https://developer.apple.com/documentation/uikit/uikeyboardtype">documentation page</a>.</p> </blockquote> <p>You can use this extension from any SwiftUI View in the following way:</p> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">TextField</span><span class="p">(</span><span class="s">"Type the email..."</span><span class="p">,</span> <span class="nv">text</span><span class="p">:</span> <span class="err">$</span><span class="n">email</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">keyboardType</span><span class="p">(</span><span class="o">.</span><span class="n">emailAddress</span><span class="p">)</span>
</code></pre></div></div> <p><img src="https://diamantidis.github.io/assets/swiftui_textfield_keyboards/email-keyboard.png" alt="Email keyboard screenshot" /></p> <p>But what if we want to add a custom view? For example, a picker view, just like we can do using UIKit?</p> <h2 id="keyboard-with-picker-view">Keyboard with picker view</h2> <p>As you may have guessed, the answer lies exactly there.</p> <p>We will have to use UIKit’s <code class="language-plaintext highlighter-rouge">UITextField</code> and make it available to SwiftUI by creating a struct with conformance to the <code class="language-plaintext highlighter-rouge">UIViewRepresentable</code> protocol.</p> <p>But let’s take it step by step and see how we can create <code class="language-plaintext highlighter-rouge">PickerField</code>; a field that will show a keyboard with a picker, just like in the following screenshot.</p> <p><img src="https://diamantidis.github.io/assets/swiftui_textfield_keyboards/picker-view-keyboard.png" alt="Picker view keyboard screenshot" /></p> <p>To keep things separated, let’s create a subclass of <code class="language-plaintext highlighter-rouge">UITextField</code> where we will implement the logic to show a keyboard with a picker.</p> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">SwiftUI</span>

<span class="kd">class</span> <span class="kt">PickerTextField</span><span class="p">:</span> <span class="kt">UITextField</span> <span class="p">{</span>
    <span class="c1">// MARK: - Public properties</span>
    <span class="k">var</span> <span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span>
    <span class="kd">@Binding</span> <span class="k">var</span> <span class="nv">selectionIndex</span><span class="p">:</span> <span class="kt">Int</span><span class="p">?</span>

    <span class="c1">// MARK: - Initializers</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">],</span> <span class="nv">selectionIndex</span><span class="p">:</span> <span class="kt">Binding</span><span class="o">&lt;</span><span class="kt">Int</span><span class="p">?</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="k">self</span><span class="o">.</span><span class="n">_selectionIndex</span> <span class="o">=</span> <span class="n">selectionIndex</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="o">.</span><span class="n">zero</span><span class="p">)</span>

        <span class="k">self</span><span class="o">.</span><span class="n">inputView</span> <span class="o">=</span> <span class="n">pickerView</span>
        <span class="k">self</span><span class="o">.</span><span class="n">inputAccessoryView</span> <span class="o">=</span> <span class="n">toolbar</span>
        <span class="k">self</span><span class="o">.</span><span class="n">tintColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">clear</span>

        <span class="k">guard</span> <span class="k">let</span> <span class="nv">selectionIndex</span> <span class="o">=</span> <span class="n">selectionIndex</span><span class="o">.</span><span class="n">wrappedValue</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">return</span>
        <span class="p">}</span>

        <span class="k">self</span><span class="o">.</span><span class="n">pickerView</span><span class="o">.</span><span class="nf">selectRow</span><span class="p">(</span><span class="n">selectionIndex</span><span class="p">,</span> <span class="nv">inComponent</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">@available</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">unavailable</span><span class="p">)</span>
    <span class="kd">required</span> <span class="nf">init</span><span class="p">?(</span><span class="nv">coder</span><span class="p">:</span> <span class="kt">NSCoder</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">fatalError</span><span class="p">(</span><span class="s">"init(coder:) has not been implemented"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1">// MARK: - Private properties</span>
    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">pickerView</span><span class="p">:</span> <span class="kt">UIPickerView</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">pickerView</span> <span class="o">=</span> <span class="kt">UIPickerView</span><span class="p">()</span>
        <span class="n">pickerView</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">pickerView</span><span class="o">.</span><span class="n">dataSource</span> <span class="o">=</span> <span class="k">self</span>
        <span class="k">return</span> <span class="n">pickerView</span>
    <span class="p">}()</span>

    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">toolbar</span><span class="p">:</span> <span class="kt">UIToolbar</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">toolbar</span> <span class="o">=</span> <span class="kt">UIToolbar</span><span class="p">()</span>

        <span class="k">let</span> <span class="nv">flexibleSpace</span> <span class="o">=</span> <span class="kt">UIBarButtonItem</span><span class="p">(</span><span class="nv">barButtonSystemItem</span><span class="p">:</span> <span class="o">.</span><span class="n">flexibleSpace</span><span class="p">,</span> <span class="nv">target</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">doneButton</span> <span class="o">=</span> <span class="kt">UIBarButtonItem</span><span class="p">(</span>
            <span class="nv">title</span><span class="p">:</span> <span class="s">"Done"</span><span class="p">,</span>
            <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="n">done</span><span class="p">,</span>
            <span class="nv">target</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span>
            <span class="nv">action</span><span class="p">:</span> <span class="kd">#selector(</span><span class="nf">donePressed</span><span class="kd">)</span>
        <span class="p">)</span>

        <span class="n">toolbar</span><span class="o">.</span><span class="nf">setItems</span><span class="p">([</span><span class="n">flexibleSpace</span><span class="p">,</span> <span class="n">doneButton</span><span class="p">],</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>
        <span class="n">toolbar</span><span class="o">.</span><span class="nf">sizeToFit</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">toolbar</span>
    <span class="p">}()</span>

    <span class="c1">// MARK: - Private methods</span>
    <span class="kd">@objc</span>
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">donePressed</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">selectionIndex</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">pickerView</span><span class="o">.</span><span class="nf">selectedRow</span><span class="p">(</span><span class="nv">inComponent</span><span class="p">:</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">endEditing</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// MARK: - UIPickerViewDataSource &amp; UIPickerViewDelegate extension</span>
<span class="kd">extension</span> <span class="kt">PickerTextField</span><span class="p">:</span> <span class="kt">UIPickerViewDataSource</span><span class="p">,</span> <span class="kt">UIPickerViewDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">numberOfComponents</span><span class="p">(</span><span class="k">in</span> <span class="nv">pickerView</span><span class="p">:</span> <span class="kt">UIPickerView</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">pickerView</span><span class="p">(</span><span class="n">_</span> <span class="nv">pickerView</span><span class="p">:</span> <span class="kt">UIPickerView</span><span class="p">,</span> <span class="n">numberOfRowsInComponent</span> <span class="nv">component</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">count</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">pickerView</span><span class="p">(</span><span class="n">_</span> <span class="nv">pickerView</span><span class="p">:</span> <span class="kt">UIPickerView</span><span class="p">,</span> <span class="n">titleForRow</span> <span class="nv">row</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">forComponent</span> <span class="nv">component</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">row</span><span class="p">]</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">pickerView</span><span class="p">(</span><span class="n">_</span> <span class="nv">pickerView</span><span class="p">:</span> <span class="kt">UIPickerView</span><span class="p">,</span> <span class="n">didSelectRow</span> <span class="nv">row</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">inComponent</span> <span class="nv">component</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">selectionIndex</span> <span class="o">=</span> <span class="n">row</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>In this snippet, first, we declare two properties; one with the options of the picker and a <code class="language-plaintext highlighter-rouge">Binding</code> property which acts both as an input in case the field is pre-filled and as an output for when the user changes the value of the picker.</p> <p>Then, in the initializer, we are expecting two arguments that we will use to instantiate the two properties. After that, we set the property <code class="language-plaintext highlighter-rouge">inputView</code> to the instance of the <code class="language-plaintext highlighter-rouge">UIPickerView</code>, and use the <code class="language-plaintext highlighter-rouge">inputAccessoryView</code> to set a <code class="language-plaintext highlighter-rouge">UIToolbar</code> with a “Done” button to help users dismiss the keyboard.</p> <p>Finally, if there is a pre-selected value, we select this option from the <code class="language-plaintext highlighter-rouge">UIPickerView</code>.</p> <p>In this file, we also add an extension to provide the implementation for the functions to conform to <code class="language-plaintext highlighter-rouge">UIPickerViewDataSource</code> and <code class="language-plaintext highlighter-rouge">UIPickerViewDelegate</code> and set the <code class="language-plaintext highlighter-rouge">dataSource</code> and the <code class="language-plaintext highlighter-rouge">delegate</code> for the <code class="language-plaintext highlighter-rouge">UIPickerView</code> to self.</p> <p>Worth noting is the implementation of <code class="language-plaintext highlighter-rouge">didSelectRow</code>, where we set the selected row to the <code class="language-plaintext highlighter-rouge">Binding</code> property <code class="language-plaintext highlighter-rouge">selectionIndex</code> to pass this info to the parent view.</p> <p>With that in place, we will create a new struct that we will use to communicate between the UIKit view and the SwiftUI world.</p> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">SwiftUI</span>

<span class="kd">struct</span> <span class="kt">PickerField</span><span class="p">:</span> <span class="kt">UIViewRepresentable</span> <span class="p">{</span>
    <span class="c1">// MARK: - Public properties</span>
    <span class="kd">@Binding</span> <span class="k">var</span> <span class="nv">selectionIndex</span><span class="p">:</span> <span class="kt">Int</span><span class="p">?</span>

    <span class="c1">// MARK: - Initializers</span>
    <span class="kd">init</span><span class="o">&lt;</span><span class="kt">S</span><span class="o">&gt;</span><span class="p">(</span><span class="n">_</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">S</span><span class="p">,</span> <span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">],</span> <span class="nv">selectionIndex</span><span class="p">:</span> <span class="kt">Binding</span><span class="o">&lt;</span><span class="kt">Int</span><span class="p">?</span><span class="o">&gt;</span><span class="p">)</span> <span class="k">where</span> <span class="kt">S</span><span class="p">:</span> <span class="kt">StringProtocol</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">placeholder</span> <span class="o">=</span> <span class="kt">String</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
        <span class="k">self</span><span class="o">.</span><span class="n">_selectionIndex</span> <span class="o">=</span> <span class="n">selectionIndex</span>

        <span class="n">textField</span> <span class="o">=</span> <span class="kt">PickerTextField</span><span class="p">(</span><span class="nv">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="nv">selectionIndex</span><span class="p">:</span> <span class="n">selectionIndex</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1">// MARK: - Public methods</span>
    <span class="kd">func</span> <span class="nf">makeUIView</span><span class="p">(</span><span class="nv">context</span><span class="p">:</span> <span class="kt">UIViewRepresentableContext</span><span class="o">&lt;</span><span class="kt">PickerField</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UITextField</span> <span class="p">{</span>
        <span class="n">textField</span><span class="o">.</span><span class="n">placeholder</span> <span class="o">=</span> <span class="n">placeholder</span>
        <span class="k">return</span> <span class="n">textField</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">updateUIView</span><span class="p">(</span><span class="n">_</span> <span class="nv">uiView</span><span class="p">:</span> <span class="kt">UITextField</span><span class="p">,</span> <span class="nv">context</span><span class="p">:</span> <span class="kt">UIViewRepresentableContext</span><span class="o">&lt;</span><span class="kt">PickerField</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">let</span> <span class="nv">index</span> <span class="o">=</span> <span class="n">selectionIndex</span> <span class="p">{</span>
            <span class="n">uiView</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">uiView</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">""</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// MARK: - Private properties</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">placeholder</span><span class="p">:</span> <span class="kt">String</span>
    <span class="kd">private</span> <span class="k">var</span> <span class="nv">data</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span>
    <span class="kd">private</span> <span class="k">let</span> <span class="nv">textField</span><span class="p">:</span> <span class="kt">PickerTextField</span>
<span class="p">}</span>
</code></pre></div></div> <p>Same as the <code class="language-plaintext highlighter-rouge">PickerTextField</code> class, this struct will also have two properties; a list with the options and a binding property for the value of the field.</p> <p>Once again, we will use the initializer to pass the values of these properties via its arguments. The initializer takes one more argument for the placeholder of the <code class="language-plaintext highlighter-rouge">UITextField</code> if the field has no value.</p> <p>Then, we provide the implementations for the <code class="language-plaintext highlighter-rouge">makeUIView</code> and <code class="language-plaintext highlighter-rouge">updateUIView</code> requirements of the <code class="language-plaintext highlighter-rouge">UIViewRepresentable</code> protocol.</p> <p>In the first one, we set the initial state for the text field by setting the value for the placeholder. In the second, we update the value of the <code class="language-plaintext highlighter-rouge">PickerField</code> with any new information we might get from SwiftUI.</p> <p>Finally, from any SwiftUI view, we can use this struct in the following way:</p> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">@State</span> <span class="k">var</span> <span class="nv">selectedIndex</span><span class="p">:</span> <span class="kt">Int</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="k">let</span> <span class="nv">options</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s">"GraphQL"</span><span class="p">,</span> <span class="s">"Swift"</span><span class="p">,</span> <span class="s">"Vapor"</span><span class="p">]</span>

<span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="c1">// ...</span>
    <span class="kt">PickerField</span><span class="p">(</span><span class="s">"Select an option"</span><span class="p">,</span> <span class="nv">data</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">options</span><span class="p">,</span> <span class="nv">selectionIndex</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="err">$</span><span class="n">selectedIndex</span><span class="p">)</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div></div> <p>You can find the code for this <a href="https://gist.github.com/diamantidis/061d101853f6400f76780345614b2c90#file-pickertextfield-swift"><code class="language-plaintext highlighter-rouge">PickerTextField</code></a>, as well as <a href="https://gist.github.com/diamantidis/061d101853f6400f76780345614b2c90#file-pickerfield-swift">the rest of the code</a> and <a href="https://gist.github.com/diamantidis/061d101853f6400f76780345614b2c90#file-contentview-swift">an example of how to use it from a SwiftUI View</a> on this <a href="https://gist.github.com/diamantidis/061d101853f6400f76780345614b2c90">Gist</a>.</p> <h2 id="conclusion">Conclusion</h2> <p>And that’s about it! In this post, we have first seen what is the current level of support for keyboard types on SwiftUI’s <code class="language-plaintext highlighter-rouge">TextField</code>. Then, we investigated how we can provide support for more options by relying on the UIKit’s UITextField, and its property <code class="language-plaintext highlighter-rouge">inputView</code>. This way, we can present a keyboard with a <code class="language-plaintext highlighter-rouge">UIPickerView</code>, or any other view we may want.</p> <p>Thanks for reading, I hope you find this post useful and if you have any questions or comments about this post, feel free to contact me on <a href="https://twitter.com/diamantidis_io">Twitter</a>!</p> <p>Until next time!</p> </div> <div class="socials"> <!-- Buy me a coffee button --> <a href="https://www.buymeacoffee.com/diamantidis" target="_blank"> <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;" > </a> <div class="share"> <strong>Share: </strong> <a href="//twitter.com/share?text=Keyboards+options+for+SwiftUI+fields&url=https%3A%2F%2Fdiamantidis.github.io%2F2020%2F06%2F21%2Fkeyboard-options-for-swiftui-fields" aria-label="Share on Twitter" onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> <a href="//www.facebook.com/sharer.php?t=Keyboards+options+for+SwiftUI+fields&u=https%3A%2F%2Fdiamantidis.github.io%2F2020%2F06%2F21%2Fkeyboard-options-for-swiftui-fields" aria-label="Share on Facebook" onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </span> </a> <a href="//www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fdiamantidis.github.io%2F2020%2F06%2F21%2Fkeyboard-options-for-swiftui-fields" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </div></article> </div> </main><footer class="site-footer"> <data class="u-url" href="/"></data> <div class="footer-icons"> <ul> <li> <div class="social-icon"> <a href="https://twitter.com/diamantidis_io" aria-label="Twitter"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://github.com/diamantidis" aria-label="GitHub"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="http://linkedin.com/in/ioannis-diamantidis" aria-label="LinkedIn"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://instagram.com/diama.codes" aria-label="Instagram"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="/feed.xml" aria-label="RSS Feed"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="mailto:diamantidis@outlook.com" aria-label="Email"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> </ul> </div> <div class="wrapper"> <p>Built with <i class="fa fa-heart" aria-hidden="true"></i>, <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://pages.github.com/"> Github Pages</a> </p> <p> © Copyright 2024 Ioannis Diamantidis </p> </div> </footer></body> </html>
