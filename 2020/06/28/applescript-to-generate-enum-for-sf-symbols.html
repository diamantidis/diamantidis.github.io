<!DOCTYPE html> <html lang="en"><head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"><title>Use AppleScript to generate an enum for SF Symbols</title><!-- Begin Jekyll SEO tag v2.8.0 --> <meta name="generator" content="Jekyll v3.9.2" /> <meta property="og:title" content="Use AppleScript to generate an enum for SF Symbols" /> <meta name="author" content="Ioannis Diamantidis" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Use SF Symbols in a type-safe manner with an enum generated with AppleScript" /> <meta property="og:description" content="Use SF Symbols in a type-safe manner with an enum generated with AppleScript" /> <link rel="canonical" href="https://diamantidis.github.io/2020/06/28/applescript-to-generate-enum-for-sf-symbols" /> <meta property="og:url" content="https://diamantidis.github.io/2020/06/28/applescript-to-generate-enum-for-sf-symbols" /> <meta property="og:site_name" content="Ioannis Diamantidis" /> <meta property="og:image" content="https://diamantidis.github.io/assets/social/applescript-to-generate-enum-for-sf-symbols.png" /> <meta property="og:image:height" content="512" /> <meta property="og:image:width" content="683" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2020-06-28T04:00:00+00:00" /> <meta name="twitter:card" content="summary_large_image" /> <meta property="twitter:image" content="https://diamantidis.github.io/assets/social/applescript-to-generate-enum-for-sf-symbols.png" /> <meta property="twitter:title" content="Use AppleScript to generate an enum for SF Symbols" /> <meta name="twitter:site" content="@diamantidis_io" /> <meta name="twitter:creator" content="@diamantidis_io" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ioannis Diamantidis","url":"https://diamantidis.github.io"},"dateModified":"2020-06-28T04:00:00+00:00","datePublished":"2020-06-28T04:00:00+00:00","description":"Use SF Symbols in a type-safe manner with an enum generated with AppleScript","headline":"Use AppleScript to generate an enum for SF Symbols","image":{"width":683,"height":512,"url":"https://diamantidis.github.io/assets/social/applescript-to-generate-enum-for-sf-symbols.png","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://diamantidis.github.io/2020/06/28/applescript-to-generate-enum-for-sf-symbols"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://diamantidis.github.io/assets/socialIcon.png"},"name":"Ioannis Diamantidis"},"url":"https://diamantidis.github.io/2020/06/28/applescript-to-generate-enum-for-sf-symbols"}</script> <!-- End Jekyll SEO tag --> <link rel="stylesheet" href="/assets/main.css"><link rel="apple-touch-icon" href="/assets/apple-touch-icon.png"/> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"> <link rel="manifest" href="/assets/site.webmanifest"> <link rel="mask-icon" href="assets/safari-pinned-tab.svg" color="#5bbad5"> <link rel="shortcut icon" href="/assets/favicon.ico"> <meta name="msapplication-TileColor" content="#da532c"> <meta name="msapplication-config" content="/assets/browserconfig.xml"> <meta name="theme-color" content="#ffffff"><!-- Buy me a coffee widget --> <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="diamantidis" data-description="Support me on Buy me a coffee!" data-message="" data-color="#347ab7" data-position="Right" data-x_margin="18" data-y_margin="18"></script> <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"><link type="application/atom+xml" rel="alternate" href="https://diamantidis.github.io/feed.xml" title="Ioannis Diamantidis" /><script src="https://cdn.telemetrydeck.com/websdk/telemetrydeck.min.js" data-app-id='38585865-E115-4830-8D37-7A8F1213DC6B' ></script> <script> !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]); posthog.init('phc_sTVQpj2y4ME7gaB3ETrOfwqd4B78MrA2ixW11xju0Hg',{api_host:'https://eu.posthog.com'}) </script></head> <body><header class="site-header" role="banner"> <div class="wrapper">
<div class="left-container"> <div class="title-wrapper"> <a class="site-title" rel="author" href="/"> <h1>Ioannis Diamantidis</h1> </a> </div> <div class="footer-icons"> <ul> <li> <div class="social-icon"> <a href="https://twitter.com/diamantidis_io" aria-label="Twitter"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://github.com/diamantidis" aria-label="GitHub"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="http://linkedin.com/in/ioannis-diamantidis" aria-label="LinkedIn"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://instagram.com/diama.codes" aria-label="Instagram"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="/feed.xml" aria-label="RSS Feed"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="mailto:diamantidis@outlook.com" aria-label="Email"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> </ul> </div> </div>
<nav class="site-nav"> <input type="checkbox" id="nav-trigger" class="nav-trigger"> <label for="nav-trigger"> <span class="menu-icon"> <svg viewbox="0 0 18 15" width="18px" height="15px"> <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path> </svg> </span> </label> <div class="trigger"> <a class="page-link" href="/tips" title="Tips">Tips</a><a class="page-link" href="/about" title="About">About</a><a class="page-link" href="/archive" title="Archive">Archive</a><a class="page-link" href="/tags" title="Tags">Tags</a>
</div> </nav>
</div> </header><main class="page-content" aria-label="Content"> <div class="wrapper"> <article class="post"> <header class="post-header"> <h1> <span class="post-title break-long-word">Use AppleScript to generate an enum for SF Symbols</span> </h1> <div class="post-subheader"> <span class="post-date"> June 28, 2020 </span> <span class="post-divider">-</span> <span class="post-minutes"> 11 min read </span> <div class="outer-post-tags"> <div class="post-tags"> <a class="post-tag" href="/tags#AppleScript" title="AppleScript">AppleScript</a> <a class="post-tag" href="/tags#SF+Symbols" title="SF Symbols">SF Symbols</a> </div> </div> </div> </header> <div class="post-content"> <p><a href="https://developer.apple.com/design/human-interface-guidelines/sf-symbols/overview/">SF Symbols</a> is a great way to add symbols in apps. Introduced during WWDC 2019, and with a new updated version this year, the <a href="https://developer.apple.com/design/human-interface-guidelines/sf-symbols/overview/">SF Symbols</a> app now provides more than 2300 symbols, supports iOS, Mac Catalyst, tvOS, and watchOS and now macOS, and offers many more features, like multicolor support, RTL, etc.</p> <p>But despite its greatness, it comes with some shortcomings when we have to use those symbols from an app. The provided APIs expect a hard-coded string literal for the name of the <code class="language-plaintext highlighter-rouge">SF Symbol</code>. This makes their usage susceptible to errors since we will not get notified by the compiler if we accidentally mistype the name.</p> <p>Wouldn’t it be much better if we were to have a type-safe solution? Maybe an enum?</p> <p>That’s the problem we will try to solve in this post. We will create a script using <code class="language-plaintext highlighter-rouge">AppleScript</code> which will open the <code class="language-plaintext highlighter-rouge">SF Symbols</code> app, traverse the list of symbols and generate an enum with a case for each symbol.</p> <h2 id="script-overview">Script Overview</h2> <p>To start with, we will use the <code class="language-plaintext highlighter-rouge">Script Editor</code> app to write the <code class="language-plaintext highlighter-rouge">AppleScript</code>. Before we start writing the script, let’s try to figure out the steps we will take on the <code class="language-plaintext highlighter-rouge">SF Symbols</code> app. First, we will open the app. Then, we will select the list layout. Choosing the list layout instead of the grid will make it much easier to traverse the list of symbols.</p> <p>After that, we will select the option <code class="language-plaintext highlighter-rouge">All</code> from the <code class="language-plaintext highlighter-rouge">Categories</code> menu to make sure that the output will contain the full list of options. Then, we will loop through the symbols, and for each one, we will create an enum case of the format <code class="language-plaintext highlighter-rouge">case &lt;name&gt; = &lt;sf symbol name&gt;</code>.</p> <p>Let’s see the script!</p> <h2 id="preparation">Preparation</h2> <p>We will first define some helper functions to compute the identifier that we will use for the case.</p> <p>This identifier should be a valid one, so we have to cater for some edge cases. In some cases, the names of some SF Symbols are reserved keywords in Swift, like <code class="language-plaintext highlighter-rouge">return</code> and <code class="language-plaintext highlighter-rouge">repeat</code>. Since we cannot use those words for the case identifier, we will escape them with the <code class="language-plaintext highlighter-rouge">backtick</code> symbol (<code class="language-plaintext highlighter-rouge">`</code>).</p> <div class="language-applescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">on</span> <span class="nv">convertReservedKeywords</span><span class="p">(</span><span class="nv">theText</span><span class="p">)</span><span class="w">
    </span><span class="k">set</span><span class="w"> </span><span class="nv">keywords</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">{</span><span class="s2">"repeat"</span><span class="p">,</span><span class="w"> </span><span class="s2">"return"</span><span class="p">,</span><span class="w"> </span><span class="s2">"case"</span><span class="p">}</span><span class="w">
    </span><span class="k">set</span><span class="w"> </span><span class="nv">theNewText</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">theText</span><span class="w">

    </span><span class="k">if</span><span class="w"> </span><span class="nv">keywords</span><span class="w"> </span><span class="ow">contains</span><span class="w"> </span><span class="p">(</span><span class="nv">theText</span><span class="w"> </span><span class="k">as </span><span class="nc">string</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w">
        </span><span class="k">set</span><span class="w"> </span><span class="nv">theNewText</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">"`"</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">theText</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="s2">"`"</span><span class="w">
    </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">

    </span><span class="nb">return</span><span class="w"> </span><span class="nv">theNewText</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="nv">convertReservedKeywords</span><span class="w">
</span></code></pre></div></div> <p>Another such case is the <code class="language-plaintext highlighter-rouge">SF Symbols</code> starting with a number literal, like <code class="language-plaintext highlighter-rouge">0.square</code>. In that scenario, we will prepend the name with the string literal <code class="language-plaintext highlighter-rouge">number</code>.</p> <div class="language-applescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">on</span> <span class="nv">handleNameRestrictions</span><span class="p">(</span><span class="nv">theText</span><span class="p">)</span><span class="w">
    </span><span class="k">set</span><span class="w"> </span><span class="nv">theNewText</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">theText</span><span class="w">
    </span><span class="k">set</span><span class="w"> </span><span class="nv">firstCharacter</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">theText</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="nv">isNumber</span><span class="p">(</span><span class="nv">firstCharacter</span><span class="p">)</span><span class="w"> </span><span class="k">then</span><span class="w">
        </span><span class="k">set</span><span class="w"> </span><span class="nv">theNewText</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">"number"</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">theText</span><span class="w">
    </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">

    </span><span class="nb">return</span><span class="w"> </span><span class="nv">convertReservedKeywords</span><span class="p">(</span><span class="nv">theNewText</span><span class="p">)</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="nv">handleNameRestrictions</span><span class="w">

</span><span class="k">on</span> <span class="nv">isNumber</span><span class="p">(</span><span class="nv">theString</span><span class="p">)</span><span class="w">
    </span><span class="k">try</span><span class="w">
        </span><span class="k">set</span><span class="w"> </span><span class="nv">theString</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">theString</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nv">number</span><span class="w">
        </span><span class="nb">return</span><span class="w"> </span><span class="nb">true</span><span class="w">
    </span><span class="nb">on</span><span class="w"> </span><span class="k">error</span><span class="w">
        </span><span class="nb">return</span><span class="w"> </span><span class="nb">false</span><span class="w">
    </span><span class="k">end</span><span class="w"> </span><span class="k">try</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="nv">isNumber</span><span class="w">
</span></code></pre></div></div> <p>Also, as you may have noticed, a lot of the <code class="language-plaintext highlighter-rouge">SF Symbols</code> are using the dot (<code class="language-plaintext highlighter-rouge">.</code>) on their name, which is another invalid character for the case identifier. To solve this issue, we will convert the name of the symbol to a camelCase string that we will use as the identifier. To do so, we will remove the dot and instead capitalize the first letter after the dot.</p> <div class="language-applescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">on</span> <span class="nv">toCamelCase</span><span class="p">(</span><span class="nv">theText</span><span class="p">)</span><span class="w">
    </span><span class="k">set</span><span class="w"> </span><span class="nv">theNewText</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="k">set</span><span class="w"> </span><span class="nv">dotIsFound</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">false</span><span class="w">
    </span><span class="k">repeat</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">aCharacter</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nv">theText</span><span class="w">
        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nv">aCharacter</span><span class="w"> </span><span class="k">as </span><span class="nc">string</span><span class="p">)</span><span class="w"> </span><span class="ow">is equal</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">"."</span><span class="w"> </span><span class="k">then</span><span class="w">
            </span><span class="k">set</span><span class="w"> </span><span class="nv">dotIsFound</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">true</span><span class="w">
        </span><span class="k">else</span><span class="w">
            </span><span class="k">if</span><span class="w"> </span><span class="nv">dotIsFound</span><span class="w"> </span><span class="k">then</span><span class="w">
                </span><span class="k">set</span><span class="w"> </span><span class="nv">theNewText</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">(</span><span class="nv">theNewText</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">toCapitalized</span><span class="p">(</span><span class="nv">aCharacter</span><span class="p">))</span><span class="w"> </span><span class="k">as </span><span class="nc">string</span><span class="w">
            </span><span class="k">else</span><span class="w">
                </span><span class="k">set</span><span class="w"> </span><span class="nv">theNewText</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">theNewText</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">aCharacter</span><span class="w">
            </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">
            </span><span class="k">set</span><span class="w"> </span><span class="nv">dotIsFound</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">false</span><span class="w">
        </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">

    </span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">

    </span><span class="nb">return</span><span class="w"> </span><span class="nv">theNewText</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="nv">toCamelCase</span><span class="w">

</span><span class="k">on</span> <span class="nv">toCapitalized</span><span class="p">(</span><span class="nv">theText</span><span class="p">)</span><span class="w">
    </span><span class="k">set</span><span class="w"> </span><span class="nv">theNewText</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">""</span><span class="w">

    </span><span class="k">set</span><span class="w"> </span><span class="nv">theComparisonCharacters</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">"abcdefghijklmnopqrstuvwxyz"</span><span class="w">
    </span><span class="k">set</span><span class="w"> </span><span class="nv">theSourceCharacters</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">"ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span><span class="w">
    </span><span class="k">set</span><span class="w"> </span><span class="nv">firstCharacter</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">theText</span><span class="w">

    </span><span class="k">set</span><span class="w"> </span><span class="nv">stringLength</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">the</span><span class="w"> </span><span class="nv">length</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">theText</span><span class="w">
    </span><span class="k">set</span><span class="w"> </span><span class="nv">restOfText</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="nv">stringLength</span><span class="w"> </span><span class="ow">is greater than</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">then</span><span class="w">
        </span><span class="k">set</span><span class="w"> </span><span class="nv">restOfText</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nb">thru</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">theText</span><span class="w">
    </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">

    </span><span class="k">set</span><span class="w"> </span><span class="nv">theOffset</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nb">offset</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">firstCharacter</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nv">theComparisonCharacters</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="nv">theOffset</span><span class="w"> </span><span class="ow">is not</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">then</span><span class="w">
        </span><span class="k">set</span><span class="w"> </span><span class="nv">theNewText</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">(</span><span class="nv">theNewText</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nb">character</span><span class="w"> </span><span class="nv">theOffset</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">theSourceCharacters</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">restOfText</span><span class="p">)</span><span class="w"> </span><span class="k">as </span><span class="nc">string</span><span class="w">
    </span><span class="k">else</span><span class="w">
        </span><span class="k">set</span><span class="w"> </span><span class="nv">theNewText</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">(</span><span class="nv">theNewText</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">firstCharacter</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">restOfText</span><span class="p">)</span><span class="w"> </span><span class="k">as </span><span class="nc">string</span><span class="w">
    </span><span class="k">end</span><span class="w"> </span><span class="k">if</span><span class="w">
    </span><span class="nb">return</span><span class="w"> </span><span class="nv">theNewText</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="nv">toCapitalized</span><span class="w">
</span></code></pre></div></div> <h2 id="implementation">Implementation</h2> <p>With all those functions in place, we can now shift our focus on the part of our program that will interact with the <code class="language-plaintext highlighter-rouge">SF Symbols</code> app.</p> <div class="language-applescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">activate</span><span class="w"> </span><span class="nb">application</span><span class="w"> </span><span class="s2">"SF Symbols"</span><span class="w">

</span><span class="k">tell</span><span class="w"> </span><span class="nb">application</span><span class="w"> </span><span class="s2">"System Events"</span><span class="w">
    </span><span class="k">tell</span><span class="w"> </span><span class="nv">process</span><span class="w"> </span><span class="s2">"SF Symbols"</span><span class="w">

        </span><span class="c1">-- Click the “list” radio button.</span><span class="w">
        </span><span class="nv">click</span><span class="w"> </span><span class="nv">radio</span><span class="w"> </span><span class="nb">button</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">radio</span><span class="w"> </span><span class="nv">group</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">group</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="na">toolbar</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="na">window</span><span class="w"> </span><span class="mi">0</span><span class="w">

        </span><span class="k">tell</span><span class="w"> </span><span class="nv">outline</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nb">scroll</span><span class="w"> </span><span class="nv">area</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">splitter</span><span class="w"> </span><span class="nv">group</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="na">window</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="nb">select</span><span class="w"> </span><span class="p">(</span><span class="nv">row</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nb">where</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">UI</span><span class="w"> </span><span class="nv">element</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">starts with</span><span class="w"> </span><span class="s2">"All"</span><span class="p">)</span><span class="w">
        </span><span class="k">end</span><span class="w"> </span><span class="k">tell</span><span class="w">

        </span><span class="k">set</span><span class="w"> </span><span class="nv">enumCases</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">""</span><span class="w">

        </span><span class="k">repeat</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">sfSymbolRow</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nv">rows</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">table</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nb">scroll</span><span class="w"> </span><span class="nv">area</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">group</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">splitter</span><span class="w"> </span><span class="nv">group</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="na">window</span><span class="w"> </span><span class="mi">0</span><span class="w">

            </span><span class="k">set</span><span class="w"> </span><span class="nv">sfSymbolName</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">static</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">UI</span><span class="w"> </span><span class="nv">element</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="nv">sfSymbolRow</span><span class="w">

            </span><span class="k">set</span><span class="w"> </span><span class="nv">caseIdentifier</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">my</span><span class="w"> </span><span class="nv">toCamelCase</span><span class="p">(</span><span class="k">my</span><span class="w"> </span><span class="nv">handleNameRestrictions</span><span class="p">(</span><span class="nv">sfSymbolName</span><span class="p">))</span><span class="w">
            </span><span class="k">set</span><span class="w"> </span><span class="nv">enumCases</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">enumCases</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="s2">"	case "</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">caseIdentifier</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="s2">" = \""</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">sfSymbolName</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="s2">"\"
"</span><span class="w">
        </span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">

        </span><span class="k">set</span><span class="w"> </span><span class="nv">startOfEnum</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">"public enum SFSymbol: String, CaseIterable {
"</span><span class="w">
        </span><span class="k">set</span><span class="w"> </span><span class="nv">endOfEnum</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s2">"}"</span><span class="w">
        </span><span class="k">set</span><span class="w"> </span><span class="nv">enum</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">startOfEnum</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">enumCases</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nv">endOfEnum</span><span class="w">

        </span><span class="nb">set the clipboard to</span><span class="w"> </span><span class="p">{</span><span class="nb">text</span><span class="p">:(</span><span class="nv">enum</span><span class="w"> </span><span class="k">as </span><span class="nc">string</span><span class="p">),</span><span class="w"> </span><span class="nv">Unicode</span><span class="w"> </span><span class="nb">text</span><span class="p">:</span><span class="nv">enum</span><span class="p">}</span><span class="w">
        </span><span class="nv">enum</span><span class="w">
    </span><span class="k">end</span><span class="w"> </span><span class="k">tell</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="k">tell</span><span class="w">
</span></code></pre></div></div> <p>In this snippet, we initially select the list layout and the option <code class="language-plaintext highlighter-rouge">All</code> from the <code class="language-plaintext highlighter-rouge">Categories</code> as we explained earlier. Then, we create a string variable that will gather all the enum cases. After that, we loop through the <code class="language-plaintext highlighter-rouge">SF Symbols</code>, and for each one of them, we use the functions we defined earlier to compute the identifier of the case. Then, we append a new case to the string we defined outside of the loop.</p> <p>After the loop, we will define two more variables that will contain the definition and the trailing bracket of the enum respectively. We will then, merge those three variables to construct a variable with the final version of the enum.</p> <p>Finally, we will add this to the clipboard to make it easier to paste on the project and use it as the output of the script.</p> <p>And that’s about it when it comes to the script!</p> <h2 id="but-what-about-sf-symbols-2">But what about SF Symbols 2?</h2> <p>This script is also compatible with the new version of the <code class="language-plaintext highlighter-rouge">SF Symbols</code> app with only a minor change. Just replace the two occurrences of <code class="language-plaintext highlighter-rouge">"SF Symbols"</code> to <code class="language-plaintext highlighter-rouge">"SF Symbols beta"</code>.</p> <p>A word of caution, though: be extra careful because there are some new <code class="language-plaintext highlighter-rouge">SF Symbols</code> that are only available on the latest OS versions while some others like the <code class="language-plaintext highlighter-rouge">bin.xmark</code> are deprecated in favor of new ones (<code class="language-plaintext highlighter-rouge">xmark.bin</code>).</p> <blockquote> <p>You can find the script as well as the enums generated from both the <code class="language-plaintext highlighter-rouge">SF Symbols</code> and <code class="language-plaintext highlighter-rouge">SF Symbols 2</code> app on <a href="https://gist.github.com/diamantidis/7dfa8de52aa2f36a3c64ff30a16dd22a">this GitHub Gist</a>.</p> </blockquote> <p>Let’s now see how we can run it!</p> <h2 id="how-to-run">How to run</h2> <p>You can use either the <code class="language-plaintext highlighter-rouge">Script Editor</code> app or the <code class="language-plaintext highlighter-rouge">Terminal</code> app. If you use the <code class="language-plaintext highlighter-rouge">Script Editor</code> app, press the play button or use the shortcut Command (<code class="language-plaintext highlighter-rouge">⌘</code>) + R.</p> <p>If you decide to run the script from the <code class="language-plaintext highlighter-rouge">Terminal</code>, you can use the command <code class="language-plaintext highlighter-rouge">osascript &lt;name of the script&gt;.scpt</code>. The output of this command will be the enum, which you can redirect to a Swift file on your project: <code class="language-plaintext highlighter-rouge">osascript &lt;name of the script&gt;.scpt &gt; GeneratedSFSymbols.swift</code>.</p> <blockquote> <p><img class="emoji" title=":bulb:" alt=":bulb:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a1.png" height="20" width="20"> <strong>TIP</strong>: You can place the script on a specific folder and then use the absolute path of this folder to create an alias on your <code class="language-plaintext highlighter-rouge">~/.bash_profile</code> or <code class="language-plaintext highlighter-rouge">~/.zshrc</code> file. <br><br> <code class="language-plaintext highlighter-rouge">alias sfsymbols='&lt;path to the script&gt;/&lt;name of the script&gt;.scpt'</code>. <br><br> This will allow you to run this script with ease from any project: <code class="language-plaintext highlighter-rouge">sfsymbols &gt; GeneratedSFSymbols.swift</code></p> </blockquote> <blockquote> <p><img class="emoji" title=":grey_exclamation:" alt=":grey_exclamation:" src="https://github.githubassets.com/images/icons/emoji/unicode/2755.png" height="20" width="20"> <strong>INFO</strong>: Regardless of how you run the script, you will probably get a prompt to grant Accessibility Access like in the following screenshot. To grant the required access, go to <code class="language-plaintext highlighter-rouge">System Preferences</code> &gt; <code class="language-plaintext highlighter-rouge">Security &amp; Privacy</code> &gt; <code class="language-plaintext highlighter-rouge">Privacy</code> &gt; <code class="language-plaintext highlighter-rouge">Accessibility</code> and select the program that you are using to run the script. <img src="https://diamantidis.github.io/assets/sf_symbols_applescript/apple_script_warning.png" alt="AppleScript warning screenshot"></p> </blockquote> <p>Now that we have added the enum in our project, it’s time to find out how we can use it!</p> <h2 id="how-to-use">How to use</h2> <p>You can simply add an extension for the component you are interested in.</p> <p>For example, if you are using SwiftUI, you can add an extension to the <code class="language-plaintext highlighter-rouge">Image</code> struct:</p> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">SwiftUI</span>

<span class="kd">@available</span><span class="p">(</span><span class="n">iOS</span> <span class="mf">13.0</span><span class="p">,</span> <span class="n">macOS</span> <span class="mf">10.15</span><span class="p">,</span> <span class="n">tvOS</span> <span class="mf">13.0</span><span class="p">,</span> <span class="n">watchOS</span> <span class="mf">6.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">extension</span> <span class="kt">Image</span> <span class="p">{</span>
    <span class="c1">/// Creates an image object containing a system symbol image.</span>
    <span class="c1">///</span>
    <span class="c1">/// - Parameter sfSymbol: The name of the `SFSymbol`</span>
    <span class="c1">/// - Usage</span>
    <span class="c1">///   ```</span>
    <span class="c1">///   Image(sfSymbol: .checkmarkCircleFill)</span>
    <span class="c1">///   ```</span>
    <span class="kd">@available</span><span class="p">(</span><span class="kt">OSX</span><span class="p">,</span> <span class="n">unavailable</span><span class="p">)</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">sfSymbol</span><span class="p">:</span> <span class="kt">SFSymbol</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="n">sfSymbol</span><span class="o">.</span><span class="n">rawValue</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>Similarly, if you are using UIKit’s UIImage, you can use the following extension:</p> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">UIKit</span>

<span class="kd">@available</span><span class="p">(</span><span class="n">iOS</span> <span class="mf">13.0</span><span class="p">,</span> <span class="o">*</span><span class="p">)</span>
<span class="kd">public</span> <span class="kd">extension</span> <span class="kt">UIImage</span> <span class="p">{</span>
    <span class="c1">/// Creates an image object containing a system symbol image.</span>
    <span class="c1">///</span>
    <span class="c1">/// - Parameter sfSymbol: The name of the `SFSymbol`</span>
    <span class="c1">/// - Usage</span>
    <span class="c1">///   ```</span>
    <span class="c1">///   UIImage(sfSymbol: .checkmarkCircleFill)</span>
    <span class="c1">///   ```</span>
    <span class="kd">convenience</span> <span class="nf">init</span><span class="p">?(</span><span class="nv">sfSymbol</span><span class="p">:</span> <span class="kt">SFSymbol</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">systemName</span><span class="p">:</span> <span class="n">sfSymbol</span><span class="o">.</span><span class="n">rawValue</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="conclusion">Conclusion</h2> <p>And that’s about it! In this post, we have seen how we can utilize the ability of AppleScript to interact with other macOS apps to generate an enum for all the symbols on the <code class="language-plaintext highlighter-rouge">SF Symbols</code> app. This will alleviate all the pains that come with the use of an error-prone string literal when we create an Image based on an <code class="language-plaintext highlighter-rouge">SF Symbol</code>. Instead, with this enum we will be able to create those Images in a type-safe manner.</p> <p>Thanks for reading, I hope you find this post useful.</p> <p>If you like this post and you want to get notified when a new post is published, you can follow me on <a href="https://twitter.com/diamantidis_io">Twitter</a> or subscribe to the <a href="https://diamantidis.github.io/feed.xml">RSS feed</a>.</p> <p>Also, if you have any questions or comments about this post, feel free to contact me on <a href="https://twitter.com/diamantidis_io">Twitter</a>!</p> <p>Until next time!</p> </div> <div class="socials"> <!-- Buy me a coffee button --> <a href="https://www.buymeacoffee.com/diamantidis" target="_blank"> <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;"> </a> <div class="share"> <strong>Share: </strong> <a href="//twitter.com/share?text=Use+AppleScript+to+generate+an+enum+for+SF+Symbols&amp;url=https%3A%2F%2Fdiamantidis.github.io%2F2020%2F06%2F28%2Fapplescript-to-generate-enum-for-sf-symbols" aria-label="Share on Twitter" onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> <a href="//www.facebook.com/sharer.php?t=Use+AppleScript+to+generate+an+enum+for+SF+Symbols&amp;u=https%3A%2F%2Fdiamantidis.github.io%2F2020%2F06%2F28%2Fapplescript-to-generate-enum-for-sf-symbols" aria-label="Share on Facebook" onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </span> </a> <a href="//www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fdiamantidis.github.io%2F2020%2F06%2F28%2Fapplescript-to-generate-enum-for-sf-symbols" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </div></article> </div> </main><footer class="site-footer"> <data class="u-url" href="/"></data> <div class="footer-icons"> <ul> <li> <div class="social-icon"> <a href="https://twitter.com/diamantidis_io" aria-label="Twitter"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://github.com/diamantidis" aria-label="GitHub"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="http://linkedin.com/in/ioannis-diamantidis" aria-label="LinkedIn"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://instagram.com/diama.codes" aria-label="Instagram"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="/feed.xml" aria-label="RSS Feed"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="mailto:diamantidis@outlook.com" aria-label="Email"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> </ul> </div> <div class="wrapper"> <p>Built with <i class="fa fa-heart" aria-hidden="true"></i>, <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://pages.github.com/"> Github Pages</a> </p> <p> © Copyright 2024 Ioannis Diamantidis </p> </div> </footer></body> </html>
