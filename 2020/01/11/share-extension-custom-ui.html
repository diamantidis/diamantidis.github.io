<!DOCTYPE html> <html lang="en"><head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"><title>Custom UI for Share Extensions</title><!-- Begin Jekyll SEO tag v2.8.0 --> <meta name="generator" content="Jekyll v3.9.2" /> <meta property="og:title" content="Custom UI for Share Extensions" /> <meta name="author" content="Ioannis Diamantidis" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A step-by-step guide on how to create a Share Extension with custom UI like Reminders or Notes app" /> <meta property="og:description" content="A step-by-step guide on how to create a Share Extension with custom UI like Reminders or Notes app" /> <link rel="canonical" href="https://diamantidis.github.io/2020/01/11/share-extension-custom-ui" /> <meta property="og:url" content="https://diamantidis.github.io/2020/01/11/share-extension-custom-ui" /> <meta property="og:site_name" content="Ioannis Diamantidis" /> <meta property="og:image" content="https://diamantidis.github.io/assets/socialIcon.png" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2020-01-11T04:00:00+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:image" content="https://diamantidis.github.io/assets/socialIcon.png" /> <meta property="twitter:title" content="Custom UI for Share Extensions" /> <meta name="twitter:site" content="@diamantidis_io" /> <meta name="twitter:creator" content="@diamantidis_io" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ioannis Diamantidis","url":"https://diamantidis.github.io"},"dateModified":"2020-01-11T04:00:00+00:00","datePublished":"2020-01-11T04:00:00+00:00","description":"A step-by-step guide on how to create a Share Extension with custom UI like Reminders or Notes app","headline":"Custom UI for Share Extensions","image":"https://diamantidis.github.io/assets/socialIcon.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://diamantidis.github.io/2020/01/11/share-extension-custom-ui"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://diamantidis.github.io/assets/socialIcon.png"},"name":"Ioannis Diamantidis"},"url":"https://diamantidis.github.io/2020/01/11/share-extension-custom-ui"}</script> <!-- End Jekyll SEO tag --> <link rel="stylesheet" href="/assets/main.css"><link rel="apple-touch-icon" href="/assets/apple-touch-icon.png"/> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png"> <link rel="manifest" href="/assets/site.webmanifest"> <link rel="mask-icon" href="assets/safari-pinned-tab.svg" color="#5bbad5"> <link rel="shortcut icon" href="/assets/favicon.ico"> <meta name="msapplication-TileColor" content="#da532c"> <meta name="msapplication-config" content="/assets/browserconfig.xml"> <meta name="theme-color" content="#ffffff"><!-- Buy me a coffee widget --> <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="diamantidis" data-description="Support me on Buy me a coffee!" data-message="" data-color="#347ab7" data-position="Right" data-x_margin="18" data-y_margin="18"></script> <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"><link type="application/atom+xml" rel="alternate" href="https://diamantidis.github.io/feed.xml" title="Ioannis Diamantidis" /><script src="https://cdn.telemetrydeck.com/websdk/telemetrydeck.min.js" data-app-id='38585865-E115-4830-8D37-7A8F1213DC6B' ></script> <script> !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]); posthog.init('phc_sTVQpj2y4ME7gaB3ETrOfwqd4B78MrA2ixW11xju0Hg',{api_host:'https://eu.posthog.com'}) </script></head> <body><header class="site-header" role="banner"> <div class="wrapper">
<div class="left-container"> <div class="title-wrapper"> <a class="site-title" rel="author" href="/"> <h1>Ioannis Diamantidis</h1> </a> </div> <div class="footer-icons"> <ul> <li> <div class="social-icon"> <a href="https://twitter.com/diamantidis_io" aria-label="Twitter"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://github.com/diamantidis" aria-label="GitHub"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="http://linkedin.com/in/ioannis-diamantidis" aria-label="LinkedIn"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://instagram.com/diama.codes" aria-label="Instagram"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="/feed.xml" aria-label="RSS Feed"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="mailto:diamantidis@outlook.com" aria-label="Email"> <span class="fa-stack fa-sm"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> </ul> </div> </div>
<nav class="site-nav"> <input type="checkbox" id="nav-trigger" class="nav-trigger"> <label for="nav-trigger"> <span class="menu-icon"> <svg viewbox="0 0 18 15" width="18px" height="15px"> <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path> </svg> </span> </label> <div class="trigger"> <a class="page-link" href="/tips" title="Tips">Tips</a><a class="page-link" href="/about" title="About">About</a><a class="page-link" href="/archive" title="Archive">Archive</a><a class="page-link" href="/tags" title="Tags">Tags</a>
</div> </nav>
</div> </header><main class="page-content" aria-label="Content"> <div class="wrapper"> <article class="post"> <header class="post-header"> <h1> <span class="post-title break-long-word">Custom UI for Share Extensions</span> </h1> <div class="post-subheader"> <span class="post-date"> January 11, 2020 </span> <span class="post-divider">-</span> <span class="post-minutes"> 7 min read </span> <div class="outer-post-tags"> <div class="post-tags"> <a class="post-tag" href="/tags#iOS" title="iOS">iOS</a> <a class="post-tag" href="/tags#Swift" title="Swift">Swift</a> <a class="post-tag" href="/tags#App+Extensions" title="App Extensions">App Extensions</a> </div> </div> </div> </header> <div class="post-content"> <p>iOS comes with a plethora of App Extensions that you can use to improve the functionality and the user experience of your app. An example of such extension, and the topic of this post is the <code class="language-plaintext highlighter-rouge">Share Extension</code>. This extension makes your app appear on a list of apps when the user presses the share button on apps like, for example, a webpage on Safari, an image on Photos, a simple text and so on.</p> <p><img src="https://diamantidis.github.io/assets/share_extensions/share_button.png" alt="Share button screen-shot"></p> <p>Adding a Share Extension to your app is straight-forward since Xcode offers a <code class="language-plaintext highlighter-rouge">Share Extension</code> template that you can use when creating a new one.</p> <p><img src="https://diamantidis.github.io/assets/share_extensions/xcode_share_template.png" alt="Xcode share extension template screenshot"></p> <p>The target created by this templates contains, amongst others, a ViewController that complies to <a href="https://developer.apple.com/documentation/social/slcomposeserviceviewcontroller"><code class="language-plaintext highlighter-rouge">SLComposeServiceViewController</code></a>. As a result, the UI is quite predefined and there is little you can do to interfere with it. Now, if you try to run the target in Safari, it will look like the following screenshot.</p> <p><img src="https://diamantidis.github.io/assets/share_extensions/default_extension_ui.png" alt="Default extension UI screenshot"></p> <p>Comparing this with the UI of the <code class="language-plaintext highlighter-rouge">Share Extension</code> of other apps, you will find out that apps like the <code class="language-plaintext highlighter-rouge">Reminders</code> have quite different UI, which is more appealing, covers the bigger part of the screen and thus allowing the user to focus on the task in place.</p> <p><img src="https://diamantidis.github.io/assets/share_extensions/reminder_share_extension.png" alt="Reminders App Extension screenshot"></p> <p>Hmm!! <img class="emoji" title=":thinking:" alt=":thinking:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f914.png" height="20" width="20"> Is it possible to achieve a similar design for the <code class="language-plaintext highlighter-rouge">Share Extension</code> of our app? This is the question I will try to answer in this post.</p> <p>Long story short, the answer is that we can definitely achieve a design like this by creating a <code class="language-plaintext highlighter-rouge">Share Extension</code> as usual, but this time removing the conformance to <code class="language-plaintext highlighter-rouge">SLComposeServiceViewController</code>. As a result, we will no longer rely on the methods like <code class="language-plaintext highlighter-rouge">isContentValid</code> and <code class="language-plaintext highlighter-rouge">configurationItems</code>. Instead, we have to provide our own implementation.</p> <p>Let’s see how this can be done step by step.</p> <h2 id="implementation">Implementation</h2> <p>Let’s start with adding a new extension. First, use the top menu to navigate to <code class="language-plaintext highlighter-rouge">File</code> &gt; <code class="language-plaintext highlighter-rouge">New</code> &gt; <code class="language-plaintext highlighter-rouge">Target</code>. There, search for and choose the <code class="language-plaintext highlighter-rouge">Share Extension</code> option from the list of the templates for an iOS app. Name it as you wish and press <code class="language-plaintext highlighter-rouge">Activate</code> on the pop up that will be displayed after that.</p> <p>If you now run the extension against Safari using a Simulator you will get a UI similar with the image mentioned before. Now that we have our extension in place, let’s see how we can change the UI to look more like the <code class="language-plaintext highlighter-rouge">Reminders</code> app.</p> <p>The extension that we have created consists of 3 files; the <code class="language-plaintext highlighter-rouge">ShareViewController.swift</code>, the <code class="language-plaintext highlighter-rouge">MainInterface.storyboard</code> and the <code class="language-plaintext highlighter-rouge">Info.plist</code>. For this task, I am not going to use the Storyboard but rather build the UI programmatically.</p> <h3 id="swift-code">Swift code</h3> <p>Head to the <code class="language-plaintext highlighter-rouge">ShareViewController.swift</code> and delete the whole <code class="language-plaintext highlighter-rouge">ShareViewController</code> class. In its place, add a new class named <code class="language-plaintext highlighter-rouge">CustomShareViewController</code> with the following content:</p> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">CustomShareViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidLoad</span><span class="p">()</span>

        <span class="c1">// 1: Set the background and call the function to create the navigation bar</span>
        <span class="k">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">systemGray6</span>
        <span class="nf">setupNavBar</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="c1">// 2: Set the title and the navigation items</span>
    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">setupNavBar</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">navigationItem</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"My app"</span>

        <span class="k">let</span> <span class="nv">itemCancel</span> <span class="o">=</span> <span class="kt">UIBarButtonItem</span><span class="p">(</span><span class="nv">barButtonSystemItem</span><span class="p">:</span> <span class="o">.</span><span class="n">cancel</span><span class="p">,</span> <span class="nv">target</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="kd">#selector(</span><span class="nf">cancelAction</span><span class="kd">)</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="n">navigationItem</span><span class="o">.</span><span class="nf">setLeftBarButton</span><span class="p">(</span><span class="n">itemCancel</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">itemDone</span> <span class="o">=</span> <span class="kt">UIBarButtonItem</span><span class="p">(</span><span class="nv">barButtonSystemItem</span><span class="p">:</span> <span class="o">.</span><span class="n">done</span><span class="p">,</span> <span class="nv">target</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="kd">#selector(</span><span class="nf">doneAction</span><span class="kd">)</span><span class="p">)</span>
        <span class="k">self</span><span class="o">.</span><span class="n">navigationItem</span><span class="o">.</span><span class="nf">setRightBarButton</span><span class="p">(</span><span class="n">itemDone</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1">// 3: Define the actions for the navigation items</span>
    <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">cancelAction</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">error</span> <span class="o">=</span> <span class="kt">NSError</span><span class="p">(</span><span class="nv">domain</span><span class="p">:</span> <span class="s">"some.bundle.identifier"</span><span class="p">,</span> <span class="nv">code</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">NSLocalizedDescriptionKey</span><span class="p">:</span> <span class="s">"An error description"</span><span class="p">])</span>
        <span class="n">extensionContext</span><span class="p">?</span><span class="o">.</span><span class="nf">cancelRequest</span><span class="p">(</span><span class="nv">withError</span><span class="p">:</span> <span class="n">error</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">@objc</span> <span class="kd">private</span> <span class="kd">func</span> <span class="nf">doneAction</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">extensionContext</span><span class="p">?</span><span class="o">.</span><span class="nf">completeRequest</span><span class="p">(</span><span class="nv">returningItems</span><span class="p">:</span> <span class="p">[],</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>This class inherits directly from <code class="language-plaintext highlighter-rouge">UIViewController</code> and for now we simply set a different background color and the navigation Bar which will contains a title and two buttons; one to cancel and one to complete the share request.</p> <p>After that we will create a subclass of <code class="language-plaintext highlighter-rouge">UINavigationController</code> which we will name <code class="language-plaintext highlighter-rouge">CustomShareNavigationController</code> and which will contain the following content:</p> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 1: Set the `objc` annotation</span>
<span class="kd">@objc</span><span class="p">(</span><span class="kt">CustomShareNavigationController</span><span class="p">)</span>
<span class="kd">class</span> <span class="kt">CustomShareNavigationController</span><span class="p">:</span> <span class="kt">UINavigationController</span> <span class="p">{</span>

    <span class="k">override</span> <span class="nf">init</span><span class="p">(</span><span class="n">nibName</span> <span class="nv">nibNameOrNil</span><span class="p">:</span> <span class="kt">String</span><span class="p">?,</span> <span class="n">bundle</span> <span class="nv">nibBundleOrNil</span><span class="p">:</span> <span class="kt">Bundle</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">nibName</span><span class="p">:</span> <span class="n">nibNameOrNil</span><span class="p">,</span> <span class="nv">bundle</span><span class="p">:</span> <span class="n">nibBundleOrNil</span><span class="p">)</span>

        <span class="c1">// 2: set the ViewControllers</span>
        <span class="k">self</span><span class="o">.</span><span class="nf">setViewControllers</span><span class="p">([</span><span class="kt">CustomShareViewController</span><span class="p">()],</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">@available</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">unavailable</span><span class="p">)</span>
    <span class="kd">required</span> <span class="nf">init</span><span class="p">?(</span><span class="n">coder</span> <span class="nv">aDecoder</span><span class="p">:</span> <span class="kt">NSCoder</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">coder</span><span class="p">:</span> <span class="n">aDecoder</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>In this class we set the view controllers inside the <code class="language-plaintext highlighter-rouge">init</code> method. Also, notice that we have added the <code class="language-plaintext highlighter-rouge">@objc</code> annotation.</p> <p>And that’s it with the Swift code for now.</p> <blockquote> <p>Before we move on to the <code class="language-plaintext highlighter-rouge">Info.plist</code>, if you want to, you can move these classes to separate files or rename the current one.</p> </blockquote> <h3 id="infoplist">Info.plist</h3> <p>Inside the <code class="language-plaintext highlighter-rouge">Info.plist</code> we have to make a few changes. Firstly, I would suggest to open the file as source code by right-clicking on the file and then selecting <code class="language-plaintext highlighter-rouge">Open As</code> -&gt; <code class="language-plaintext highlighter-rouge">Source Code</code>. This would make it easier to copy and paste or remove the chunks that we are going to change.</p> <p>Let’s start by adding the following key-value pair inside the <code class="language-plaintext highlighter-rouge">NSExtension</code> dict to define which is the principal class for our extension:</p> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;key&gt;</span>NSExtensionPrincipalClass<span class="nt">&lt;/key&gt;</span>
<span class="nt">&lt;string&gt;</span>CustomShareNavigationController<span class="nt">&lt;/string&gt;</span>
</code></pre></div></div> <p>After that we can remove the Storyboard related entry:</p> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;key&gt;</span>NSExtensionMainStoryboard<span class="nt">&lt;/key&gt;</span>
<span class="nt">&lt;string&gt;</span>MainInterface<span class="nt">&lt;/string&gt;</span>
</code></pre></div></div> <p>Finally, we will replace the value for the <code class="language-plaintext highlighter-rouge">NSExtensionActivationRule</code> from</p> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;string&gt;</span>TRUEPREDICATE<span class="nt">&lt;/string&gt;</span>
</code></pre></div></div> <p>to</p> <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>NSExtensionActivationSupportsWebPageWithMaxCount<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;integer&gt;</span>1<span class="nt">&lt;/integer&gt;</span>
    <span class="nt">&lt;key&gt;</span>NSExtensionActivationSupportsWebURLWithMaxCount<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;integer&gt;</span>1<span class="nt">&lt;/integer&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
</code></pre></div></div> <p>which declares the maximum number of web pages and URLs that our <code class="language-plaintext highlighter-rouge">Share Extension</code> supports.</p> <p>Now, we can also remove the <code class="language-plaintext highlighter-rouge">MainInterface.storyboard</code> file and finally we are ready to run the extension on <code class="language-plaintext highlighter-rouge">Safari</code>.</p> <p>The end result will be like this:</p> <p><img src="https://diamantidis.github.io/assets/share_extensions/custom_share_extension_nav_bar.png" alt="Custom Share Extension (only nav bar) screenshot"></p> <h3 id="adding-ui-components">Adding UI components</h3> <p>On top of that, we can customize the UI as usual with <code class="language-plaintext highlighter-rouge">Auto Layout</code>. For example, we can add a <code class="language-plaintext highlighter-rouge">UITextField</code> by modifying the <code class="language-plaintext highlighter-rouge">CustomShareViewController</code>.</p> <p>We will have to add a property for the <code class="language-plaintext highlighter-rouge">UITextField</code> and one method named <code class="language-plaintext highlighter-rouge">setupViews()</code> which is responsible for adding the <code class="language-plaintext highlighter-rouge">UITextField</code> to the UI like in the following snippet:</p> <div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kd">private</span> <span class="kd">lazy</span> <span class="k">var</span> <span class="nv">textField</span><span class="p">:</span> <span class="kt">UITextField</span> <span class="o">=</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">textField</span> <span class="o">=</span> <span class="kt">UITextField</span><span class="p">()</span>
        <span class="n">textField</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">"some value"</span>
        <span class="n">textField</span><span class="o">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span>
        <span class="n">textField</span><span class="o">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="kc">false</span>

        <span class="k">return</span> <span class="n">textField</span>
    <span class="p">}()</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">setupViews</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">textField</span><span class="p">)</span>
        <span class="kt">NSLayoutConstraint</span><span class="o">.</span><span class="nf">activate</span><span class="p">([</span>
            <span class="n">textField</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">leadingAnchor</span><span class="p">),</span>
            <span class="n">textField</span><span class="o">.</span><span class="n">trailingAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">trailingAnchor</span><span class="p">),</span>
            <span class="n">textField</span><span class="o">.</span><span class="n">centerYAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalTo</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">centerYAnchor</span><span class="p">),</span>
            <span class="n">textField</span><span class="o">.</span><span class="n">heightAnchor</span><span class="o">.</span><span class="nf">constraint</span><span class="p">(</span><span class="nv">equalToConstant</span><span class="p">:</span> <span class="mi">44</span><span class="p">)</span>
        <span class="p">])</span>
    <span class="p">}</span>

</code></pre></div></div> <p>Then, we can call <code class="language-plaintext highlighter-rouge">setupViews()</code> from <code class="language-plaintext highlighter-rouge">viewDidLoad()</code> and if we run the app again we will see something similar to the following screenshot:</p> <p><img src="https://diamantidis.github.io/assets/share_extensions/custom_share_extension.png" alt="Custom Share Extension screenshot"></p> <p>Similarly by adding more views into our controller we can achieve the custom UI that we want in our <code class="language-plaintext highlighter-rouge">Share Extension</code>. <img class="emoji" title=":tada:" alt=":tada:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png" height="20" width="20"></p> <h2 id="conclusion">Conclusion</h2> <p>And that’s about it for this post. In this post, we have seen how we could create a similar UI as the Reminders or Notes app for our Shared Extension. As it turned out, all we have to do is ignore the generated code from the template and rely on <code class="language-plaintext highlighter-rouge">Auto Layout</code> to implement the UI that we want. Similarly to what we do when developing an iOS app, we can add a <code class="language-plaintext highlighter-rouge">UINavigationController</code>, push instances of <code class="language-plaintext highlighter-rouge">UIViewController</code> to it and add custom view to our <code class="language-plaintext highlighter-rouge">UIViewController</code>.</p> <p>As a next step, we can implement the logic to populate those fields with information like the title of the page and the URL. Probably this is a topic that I will cover in one of my next posts. So stay tuned!!</p> <p>Thanks for reading, I hope you find this post useful! If you have any questions, suggestions or comments about this post, just let me know on <a href="https://twitter.com/diamantidis_io">Twitter</a>, I would love to hear from you!!</p> </div> <div class="socials"> <!-- Buy me a coffee button --> <a href="https://www.buymeacoffee.com/diamantidis" target="_blank"> <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;"> </a> <div class="share"> <strong>Share: </strong> <a href="//twitter.com/share?text=Custom+UI+for+Share+Extensions&amp;url=https%3A%2F%2Fdiamantidis.github.io%2F2020%2F01%2F11%2Fshare-extension-custom-ui" aria-label="Share on Twitter" onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> <a href="//www.facebook.com/sharer.php?t=Custom+UI+for+Share+Extensions&amp;u=https%3A%2F%2Fdiamantidis.github.io%2F2020%2F01%2F11%2Fshare-extension-custom-ui" aria-label="Share on Facebook" onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i> </span> </a> <a href="//www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fdiamantidis.github.io%2F2020%2F01%2F11%2Fshare-extension-custom-ui" aria-label="Share on LinkedIn" onclick="window.open(this.href, 'linkedin-share', 'width=550,height=255');return false;"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </div></article> </div> </main><footer class="site-footer"> <data class="u-url" href="/"></data> <div class="footer-icons"> <ul> <li> <div class="social-icon"> <a href="https://twitter.com/diamantidis_io" aria-label="Twitter"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://github.com/diamantidis" aria-label="GitHub"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="http://linkedin.com/in/ioannis-diamantidis" aria-label="LinkedIn"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="https://instagram.com/diama.codes" aria-label="Instagram"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-instagram fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="/feed.xml" aria-label="RSS Feed"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> <li> <div class="social-icon"> <a href="mailto:diamantidis@outlook.com" aria-label="Email"> <span class="fa-stack fa-lg"> <i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i> </span> </a> </div> </li> </ul> </div> <div class="wrapper"> <p>Built with <i class="fa fa-heart" aria-hidden="true"></i>, <a href="https://jekyllrb.com/">Jekyll</a> and <a href="https://pages.github.com/"> Github Pages</a> </p> <p> © Copyright 2024 Ioannis Diamantidis </p> </div> </footer></body> </html>
